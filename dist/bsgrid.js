!function(){"use strict";angular.module("bsgrid",["ui.bootstrap","ngAnimate","ui.router","LocalStorageModule"])}(),function(){"use strict";function e(e){return{scope:!0,link:function(t,n,o){var i;o.$observe("bsGridCellTemplate",function(o){angular.isDefined(o)&&(i=e(o)(t),n.html(""),n.append(i))})}}}angular.module("bsgrid").directive("bsGridCellTemplate",e),e.$inject=["$compile"]}(),function(){"use strict";function e(e){e.setPrefix("bsgrid")}angular.module("bsgrid").config(e),e.$inject=["localStorageServiceProvider"]}(),function(){"use strict";function e(){function e(e,t,n,o,i,s){e.filteredItems=e.options.items,e.displayedItems=[],e.showing={begin:0,end:0,of:0},e.setUndefined=function(){angular.isUndefined(e.options.pageSizeShow)&&(e.options.pageSizeShow=!0),angular.isUndefined(e.options.pageSize)&&(e.options.pageSize=25),angular.isUndefined(e.options.pageSizeOptions)&&(e.options.pageSizeOptions=[10,25,50,100]),angular.isUndefined(e.options.localStorage)&&(e.options.localStorage=!1),angular.isUndefined(e.options.localStorageIgnorePageSize)&&(e.options.localStorageIgnorePageSize=!1),angular.isUndefined(e.options.lockTable)&&(e.options.lockTable=!0),angular.isUndefined(e.options.selectable)&&(e.options.selectable=!1),angular.isUndefined(e.options.multiSelect)&&(e.options.multiSelect=!1),angular.isUndefined(e.options.scope)&&(e.options.scope=e),e.scope=e.options.scope,angular.isUndefined(e.options.showSearch)&&(e.options.showSearch=!0),angular.isUndefined(e.options.showFooter)&&(e.options.showFooter=!0),angular.isUndefined(e.options.showExportButton)&&(e.options.showExportButton=!0),angular.isUndefined(e.options.name)&&(e.options.name=i.current.name),angular.isUndefined(e.options.scrollHorizontal)&&(e.options.scrollHorizontal=!0),_.forEach(e.options.columns,function(e){if(angular.isUndefined(e.width)&&(e.width="auto"),angular.isUndefined(e.sortable)&&(e.sortable=!0),angular.isUndefined(e.name)&&angular.isUndefined(e.field))throw"bsgrid: Name is required if no field is provided.";angular.isUndefined(e.visible)&&(e.visible=!0)})},e.localStorageName=function(){return"bsGrid-"+e.options.name},e.getLocalStorage=function(){if(e.options.localStorage){var t=s.get(e.localStorageName());if(t&&(angular.isDefined(t.pageSize)&&!e.options.localStorageIgnorePageSize&&(e.options.pageSize=t.pageSize),angular.isDefined(t.columns))){var n=!1;_.forEach(t.columns,function(t,o){var i=_.findIndex(e.options.columns,{name:t.name});if(i>=0){if(o!==i){var s=e.options.columns[i];e.options.columns[i]=e.options.columns[o],e.options.columns[o]=s}e.options.columns[o].visible=t.visible,e.options.columns[o].sorted=t.sorted,angular.isDefined(t.reverse)&&(e.options.columns[o].reverse=t.reverse),t.sorted&&(n=!0)}}),n||(e.options.columns[0].sorted=!0)}}},e.hideColumn=function(t){t.visible=!t.visible,e.setLocalStorage()},e.setLocalStorage=function(){e.options.localStorage&&s.set(e.localStorageName(),{pageSize:e.options.pageSize,columns:e.options.columns})},e.onDropComplete=function(t,n){var o=e.options.columns.indexOf(n);e.options.columns.splice(o,1),e.options.columns.splice(t,0,n),e.setLocalStorage()},e.setWatches=function(){e.$watch(function(){return e.options.pageSize},function(){e.setLocalStorage(),e.options.currentPage=1,e.getPage()},!0),e.$watch(function(){return e.options.items},function(){var t=[];_.forEach(e.options.selectedItems,function(n){var o=_(e.options.items).indexOf(n);-1===o&&t.push(n)}),_.forEach(t,function(t){var n=null,o=null;angular.isDefined(t.id)&&(n=_.filter(e.options.items,{id:t.id}),1===n.length&&(o=n[0]));var i=_.indexOf(e.options.selectedItems,t);o?e.options.selectedItems.splice(i,1,o):e.options.selectedItems.splice(i)}),e.start()},!0)},e.getPage=function(){var t=(e.options.currentPage-1)*e.options.pageSize,n=t+e.options.pageSize;e.displayedItems=e.filteredItems.slice(t,n),0===e.displayedItems.length?e.showing.begin=t:e.showing.begin=t+1,e.showing.end=t+e.displayedItems.length,e.showing.of=e.filteredItems.length},e.sort=function(t,o){if(t.sortable===!0){_.forEach(e.options.columns,function(e){e!==t&&(e.sorted=!1,e.reverse=!1)}),t.sorted=!0,o&&(t.reverse=!t.reverse);var i=n("orderBy");e.filteredItems=i(e.filteredItems,t.field,t.reverse),e.getPage(),e.setLocalStorage()}},e.filter=function(){var t=n("filter");e.filteredItems=t(e.options.items,e.options.searchFilter),e.getPage()},e.selectItem=function(t){if(e.options.selectable){var n=_.indexOf(e.options.selectedItems,t);if(-1!==n)return void e.options.selectedItems.splice(n,1);e.options.multiSelect||1!==e.options.selectedItems.length||e.options.selectedItems.splice(0,1),e.options.selectedItems.push(t)}},e.selectItemCheckbox=function(t,n){t.stopPropagation(),e.selectItem(n)},e.isSelectedItem=function(t){var n=_.indexOf(e.options.selectedItems,t);return-1!==n?!0:!1},e.toggleSelectAll=function(t){t?_.forEach(e.filteredItems,function(t){e.isSelectedItem(t)||e.selectItem(t)}):_.forEach(e.filteredItems,function(t){e.isSelectedItem(t)&&e.selectItem(t)})},e.lockTable=function(){e.options.lockTable&&o(function(){var n=angular.element(t).find("div table thead tr th"),o=0;_.forEach(n,function(t){var n=angular.element(t);e.options.selectable&&0===o?o--:"auto"===e.options.columns[o].width&&angular.element(n).css("width",t.offsetWidth),o++});var i=angular.element(t).find("div table");angular.element(i).css("table-layout","fixed")},0)},e.start=function(){""!==e.options.searchFilter&&e.filter();var t=_.find(e.options.columns,"sorted");angular.isDefined(t)?e.sort(t,!1):e.getPage()},e.init=function(){e.setUndefined(),e.getLocalStorage(),e.setWatches(),e.lockTable(),e.start()},e.init(),e.exportTypes={FILTERED:0,SELECTED:1,ALL:2},e.GetRowsForExport=function(t,n,o){var i=0,s="",a=[];switch(t){case e.exportTypes.FILTERED:a=e.displayedItems;break;case e.exportTypes.SELECTED:a=e.options.selectedItems;break;case e.exportTypes.ALL:a=e.options.items}return _.each(a,function(t){_.each(n,function(n){s=angular.isDefined(t[n])?t[n]:angular.isDefined(t.search)&&angular.isDefined(t.search[n])?t.search[n]:"",o+='"'+e.csvStringify(s)+'",'}),o=e.swapLastCommaForNewline(o),i++}),o},e.csvStringify=function(e){return null===e||angular.isUndefined(e)?"":angular.isNumber(e)?""+e:e===!0||e===!1?e?"True":"False":angular.isString(e)?e.replace(/"/g,'""'):angular.toJson(e).replace(/"/g,'""')},e.swapLastCommaForNewline=function(e){var t=e.substr(0,e.length-1);return t+"\n"},e.SubmitFileToUser=function(e){var t=angular.element("<a/>");t.attr({href:"data:attachment/csv;charset=utf-8,"+encodeURI(e),target:"_blank",download:"export.csv"})[0].click()},e["export"]=function(t){var n=[],o="",i=[];_.each(e.options.columns,function(e){n.push(e.field),i.push(e.name)}),_.each(i,function(t){o+='"'+e.csvStringify(t)+'",'}),o=e.swapLastCommaForNewline(o),o=e.GetRowsForExport(t,n,o),e.SubmitFileToUser(o)}}return e.$inject=["$scope","$element","$filter","$timeout","$state","localStorageService"],{scope:{options:"="},templateUrl:"template/bsgrid.html",restrict:"E",controller:e}}angular.module("bsgrid").directive("bsGrid",e)}(),function(){"use strict";function e(e){return{restrict:"AC",link:function(t,n){e(function(){n[0].focus()},0)}}}angular.module("bsgrid").directive("bsgridAutoFocus",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e){function t(e,n){var o,i,s=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,a=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,r=/^0x[0-9a-f]+$/i,c=/^0/,p=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},d=p(e).replace(a,"")||"",u=p(n).replace(a,"")||"",g=d.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),f=u.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),m=parseInt(d.match(r))||1!=g.length&&d.match(l)&&Date.parse(d),h=parseInt(u.match(r))||m&&u.match(l)&&Date.parse(u)||null;if(h){if(h>m)return-1;if(m>h)return 1}for(var b=0,v=Math.max(g.length,f.length);v>b;b++){if(o=!(g[b]||"").match(c)&&parseFloat(g[b])||g[b]||0,i=!(f[b]||"").match(c)&&parseFloat(f[b])||f[b]||0,isNaN(o)!==isNaN(i))return isNaN(o)?1:-1;if(typeof o!=typeof i&&(o+="",i+=""),i>o)return-1;if(o>i)return 1}return 0}return function(n,o,i){function s(e,t){for(var n=0;n<o.length;n++){var i=o[n](e,t);if(0!==i)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}if(!angular.isArray(n))return n;if(!o)return n;o=angular.isArray(o)?o:[o],o=_.map(o,function(n){var o=!1,i=n||angular.identity;if(angular.isString(n)&&(("+"==n.charAt(0)||"-"==n.charAt(0))&&(o="-"==n.charAt(0),n=n.substring(1)),i=e(n),i.constant)){var s=i();return a(function(e,n){return t(e[s],n[s])},o)}return a(function(e,n){return t(i(e),i(n))},o)});for(var l=[],r=0;r<n.length;r++)l.push(n[r]);return l.sort(a(s,i))}}angular.module("bsgrid").filter("naturalSortBy",e),e.$inject=["$parse"]}(),angular.module("bsgrid").run(["$templateCache",function(e){e.put("template/bsgrid.html",'<div class="row bs-grid-margin"><div class="col-sm-9"><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default btn-sm" uib-dropdown-toggle="">Options <span class="caret"></span></button><ul uib-dropdown-menu="" role="menu"><li role="menuitem" ng-if="options.pageSizeShow" class="dropdown-header">Page Size</li><li role="menuitem" ng-if="options.pageSizeShow" ng-repeat="size in options.pageSizeOptions" ng-class="{\'active\': options.pageSize === size }"><a tabindex="-1" ng-click="options.pageSize = size">{{ size }}</a></li><li ng-if="options.pageSizeShow" class="divider"></li><li role="presentation" class="dropdown-header">Columns</li><li role="menuitem" ng-repeat="col in options.columns"><a ng-click="hideColumn(col)"><i ng-class="col.visible ? \'glyphicon glyphicon-ok\': \'glyphicon glyphicon-remove\'"></i> <span>{{ col.name }}</span></a></li></ul></div><div class="btn-group" ng-if="options.showExportButton" uib-dropdown="" dropdown-append-to-body=""><button class="btn btn-default btn-sm" type="button" uib-dropdown-toggle="">Export <span class="caret"></span></button><ul uib-dropdown-menu="" role="menu"><li role="menuitem"><a ng-click="export(exportTypes.FILTERED)">Filtered</a></li><li role="menuitem"><a ng-click="export(exportTypes.ALL)">All</a></li><li role="menuitem" ng-if="options.selectedItems[0]"><a ng-click="export(exportTypes.SELECTED)">Selected</a></li></ul></div></div><div ng-if="options.showSearch" class="col-sm-3" style="margin-bottom: 10px" ng-class="{ \'col-sm-offset-9\': !options.pageSizeShow }"><div class="input-group input-group-sm"><input type="text" class="form-control" placeholder="Search" ng-model="options.searchFilter" ng-change="filter()" ng-model-options="{ debounce: { \'default\': 400, \'blur\': 0 } }" bsgrid-auto-focus=""> <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div></div></div><div class="row"><div class="col-md-12" ng-class="{\'table-responsive\': options.scrollHorizontal}"><table class="table table-striped table-bordered table-hover table-condensed color2"><thead><tr><th ng-if="options.multiSelect" class="bs-grid-select"><input ng-if="options.multiSelect" type="checkbox" ng-model="selectAllToggle" ng-change="toggleSelectAll(selectAllToggle)"></th><th class="bs-grid-overflow" ng-repeat="col in options.columns" ng-click="sort(col, true)" style="width: {{ col.width }};" ng-show="col.visible"><div ng-drop="true" ng-drop-success="onDropComplete($index, $data, $evt)"><div ng-drag="true" ng-drag-data="col"><span>{{ col.name || col.field }}</span> <span ng-if="col.sorted" class="order" ng-class="{\'dropup\': col.reverse }"><span class="caret"></span></span></div></div></th></tr></thead><tbody><tr ng-repeat="item in displayedItems" ng-class="{\'info\' : isSelectedItem( item ) }" ng-click="selectItem(item)"><td ng-if="options.multiSelect"><input type="checkbox" class="bg-grid-checkbox" ng-checked="isSelectedItem(item)" ng-click="selectItemCheckbox($event, item)"></td><td class="bs-grid-overflow" ng-repeat="col in options.columns" ng-show="col.visible"><div ng-if="col.template" bs-grid-cell-template="{{ col.template }}"></div><div ng-if="!col.template" class="bs-grid-column bs-grid-column-{{col.field}}">{{ item[col.field] }}</div></td></tr></tbody></table></div></div><div class="row" ng-if="options.showFooter"><div class="col-sm-4"><span ng-if="options.selectable && options.selectedItems.length != 0">Selected <strong class=\'\\"text-primary\\"\'>{{options.selectedItems.length}}</strong></span> <span ng-class="{ \'text-danger\': displayedItems.length == 0}">Showing <strong>{{showing.begin}}</strong> to <strong>{{showing.end}}</strong> of <strong class=\'\\"text-primary\\"\'>{{ showing.of}}</strong> items</span><p ng-if="options.searchFilter">(<em>Filtered down from <strong>{{options.items.length}}</strong></em>)</p></div><div class="col-sm-8"><uib-pagination class="pagination-sm pull-right bs-grid-pagination" boundary-links="true" max-size="9" items-per-page="options.pageSize" total-items="filteredItems.length" ng-model="options.currentPage" ng-change="getPage()" previous-text="Previous" next-text="Next" first-text="First" last-text="Last"></uib-pagination></div></div>')}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJzZ3JpZC5tb2R1bGUuanMiLCJic2dyaWQuY2VsbC5kaXJlY3RpdmUuanMiLCJic2dyaWQuanMiLCJic2dyaWQuY29uZmlnLmpzIiwiYnNncmlkLmRpcmVjdGl2ZS5qcyIsImJzZ3JpZC5mb2N1cy5kaXJlY3RpdmUuanMiLCJuYXR1cmFsLnNvcnQuYnkuZmlsdGVyLmpzIiwiYnNncmlkQ2FjaGVIdG1sLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJCU0dyaWRDZWxsVGVtcGxhdGUiLCIkY29tcGlsZSIsInNjb3BlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImVsIiwiJG9ic2VydmUiLCJ0cGwiLCJpc0RlZmluZWQiLCJodG1sIiwiYXBwZW5kIiwiZGlyZWN0aXZlIiwiJGluamVjdCIsImNvbmZpZyIsImxvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlciIsInNldFByZWZpeCIsIkJTR3JpZCIsIkJTR3JpZENvbnRyb2xsZXIiLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRmaWx0ZXIiLCIkdGltZW91dCIsIiRzdGF0ZSIsImxvY2FsU3RvcmFnZVNlcnZpY2UiLCJmaWx0ZXJlZEl0ZW1zIiwib3B0aW9ucyIsIml0ZW1zIiwiZGlzcGxheWVkSXRlbXMiLCJzaG93aW5nIiwiYmVnaW4iLCJlbmQiLCJvZiIsInNldFVuZGVmaW5lZCIsImlzVW5kZWZpbmVkIiwicGFnZVNpemVTaG93IiwicGFnZVNpemUiLCJwYWdlU2l6ZU9wdGlvbnMiLCJsb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VJZ25vcmVQYWdlU2l6ZSIsImxvY2tUYWJsZSIsInNlbGVjdGFibGUiLCJtdWx0aVNlbGVjdCIsInNob3dTZWFyY2giLCJzaG93Rm9vdGVyIiwic2hvd0V4cG9ydEJ1dHRvbiIsIm5hbWUiLCJjdXJyZW50Iiwic2Nyb2xsSG9yaXpvbnRhbCIsIl8iLCJmb3JFYWNoIiwiY29sdW1ucyIsImMiLCJ3aWR0aCIsInNvcnRhYmxlIiwiZmllbGQiLCJ2aXNpYmxlIiwibG9jYWxTdG9yYWdlTmFtZSIsImdldExvY2FsU3RvcmFnZSIsImRhdGEiLCJnZXQiLCJpc1NvcnRlZCIsImkiLCJpbmRleCIsImZpbmRJbmRleCIsInRtcCIsInNvcnRlZCIsInJldmVyc2UiLCJoaWRlQ29sdW1uIiwic2V0TG9jYWxTdG9yYWdlIiwic2V0Iiwib25Ecm9wQ29tcGxldGUiLCJvYmoiLCJvdGhlckluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInNldFdhdGNoZXMiLCIkd2F0Y2giLCJjdXJyZW50UGFnZSIsImdldFBhZ2UiLCJuZXdTZWxlY3RlZCIsInNlbGVjdGVkSXRlbXMiLCJpdGVtIiwicHVzaCIsIm1hdGNoZXMiLCJtYXRjaCIsImlkIiwiZmlsdGVyIiwibGVuZ3RoIiwic0luZGV4Iiwic3RhcnQiLCJzbGljZSIsInNvcnQiLCJjb2wiLCJjaGFuZ2VSZXZlcnNlIiwic2VhcmNoRmlsdGVyIiwic2VsZWN0SXRlbSIsInNlbGVjdEl0ZW1DaGVja2JveCIsIiRldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImlzU2VsZWN0ZWRJdGVtIiwidG9nZ2xlU2VsZWN0QWxsIiwidmFsdWUiLCJ0aHMiLCJmaW5kIiwidGgiLCJlIiwiY3NzIiwib2Zmc2V0V2lkdGgiLCJ0YWJsZSIsImluaXQiLCJleHBvcnRUeXBlcyIsIkZJTFRFUkVEIiwiU0VMRUNURUQiLCJBTEwiLCJHZXRSb3dzRm9yRXhwb3J0IiwiZXhwb3J0VHlwZSIsImZpZWxkTmFtZXMiLCJjc3ZEYXRhIiwiaXRlbUluZGV4IiwiY3VyQ2VsbFJhdyIsIml0ZW1zVG9FeHBvcnQiLCJlYWNoIiwiaXRlbVRvRXhwb3J0IiwiZmllbGROYW1lIiwic2VhcmNoIiwiY3N2U3RyaW5naWZ5Iiwic3dhcExhc3RDb21tYUZvck5ld2xpbmUiLCJzdHIiLCJpc051bWJlciIsImlzU3RyaW5nIiwicmVwbGFjZSIsInRvSnNvbiIsIm5ld1N0ciIsInN1YnN0ciIsIlN1Ym1pdEZpbGVUb1VzZXIiLCJhdHRyIiwiaHJlZiIsImVuY29kZVVSSSIsInRhcmdldCIsImRvd25sb2FkIiwiY2xpY2siLCJyZXF1ZXN0cyIsInYiLCJ0ZW1wbGF0ZVVybCIsInJlc3RyaWN0IiwiY29udHJvbGxlciIsIkJTR3JpZEF1dG9Gb2N1cyIsIl9zY29wZSIsIl9lbGVtZW50IiwiZm9jdXMiLCJOYXR1cmFsU29ydEJ5IiwiJHBhcnNlIiwibmF0dXJhbFNvcnQiLCJhIiwiYiIsIm9GeE5jTCIsIm9GeU5jTCIsInJlIiwic3JlIiwiZHJlIiwiaHJlIiwib3JlIiwicyIsImluc2Vuc2l0aXZlIiwidG9Mb3dlckNhc2UiLCJ4IiwieSIsInhOIiwic3BsaXQiLCJ5TiIsInhEIiwicGFyc2VJbnQiLCJEYXRlIiwicGFyc2UiLCJ5RCIsImNMb2MiLCJudW1TIiwiTWF0aCIsIm1heCIsInBhcnNlRmxvYXQiLCJpc05hTiIsImFycmF5Iiwic29ydFByZWRpY2F0ZSIsInJldmVyc2VPcmRlciIsImNvbXBhcmF0b3IiLCJvMSIsIm8yIiwiY29tcCIsInJldmVyc2VDb21wYXJhdG9yIiwiZGVzY2VuZGluZyIsImlzQXJyYXkiLCJtYXAiLCJwcmVkaWNhdGUiLCJpZGVudGl0eSIsImNoYXJBdCIsInN1YnN0cmluZyIsImNvbnN0YW50Iiwia2V5IiwiYXJyYXlDb3B5IiwicnVuIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxVQUNBLGVBQ0EsWUFDQSxZQUNBLDBCQ1JBLFdBQ0EsWUFPQSxTQUFBQyxHQUFBQyxHQUdBLE9BQ0FDLE9BQUEsRUFDQUMsS0FBQSxTQUFBRCxFQUFBRSxFQUFBQyxHQUNBLEdBQUFDLEVBRUFELEdBQUFFLFNBQUEscUJBQUEsU0FBQUMsR0FDQVYsUUFBQVcsVUFBQUQsS0FFQUYsRUFBQUwsRUFBQU8sR0FBQU4sR0FHQUUsRUFBQU0sS0FBQSxJQUdBTixFQUFBTyxPQUFBTCxRQXRCQVIsUUFDQUMsT0FBQSxVQUNBYSxVQUFBLHFCQUFBWixHQ3NDRUEsRUFBbUJhLFNBQVcsZUMzQ2hDLFdBQ0EsWUFPQSxT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QTNDQSxJQUFBOUwsUUFBQWlNLFFBQUFULEdBQUEsTUFBQUEsRUFDQSxLQUFBQyxFQUFBLE1BQUFELEVBQ0FDLEdBQUF6TCxRQUFBaU0sUUFBQVIsR0FBQUEsR0FBQUEsR0FDQUEsRUFBQXRJLEVBQUErSSxJQUFBVCxFQUFBLFNBQUFVLEdBQ0EsR0FBQUgsSUFBQSxFQUNBbEksRUFBQXFJLEdBQUFuTSxRQUFBb00sUUFDQSxJQUFBcE0sUUFBQW9JLFNBQUErRCxNQUNBLEtBQUFBLEVBQUFFLE9BQUEsSUFBQSxLQUFBRixFQUFBRSxPQUFBLE1BQ0FMLEVBQUEsS0FBQUcsRUFBQUUsT0FBQSxHQUNBRixFQUFBQSxFQUFBRyxVQUFBLElBRUF4SSxFQUFBNEYsRUFBQXlDLEdBQ0FySSxFQUFBeUksVUFBQSxDQUNBLEdBQUFDLEdBQUExSSxHQUNBLE9BQUFpSSxHQUFBLFNBQUFuQyxFQUFBQyxHQUNBLE1BQUFGLEdBQUFDLEVBQUE0QyxHQUFBM0MsRUFBQTJDLEtBQ0FSLEdBR0EsTUFBQUQsR0FBQSxTQUFBbkMsRUFBQUMsR0FDQSxNQUFBRixHQUFBN0YsRUFBQThGLEdBQUE5RixFQUFBK0YsS0FDQW1DLElBSUEsS0FBQSxHQURBUyxNQUNBekksRUFBQSxFQUFBQSxFQUFBd0gsRUFBQTlGLE9BQUExQixJQUNBeUksRUFBQXBILEtBQUFtRyxFQUFBeEgsR0FFQSxPQUFBeUksR0FBQTNHLEtBQUFpRyxFQUFBSixFQUFBRCxLQTlFQTFMLFFBQ0FDLE9BQUEsVUFDQXdGLE9BQUEsZ0JBQUFnRSxHSm1yQkVBLEVBQWMxSSxTQUFXLGFLM3JCM0JmLFFBQUFDLE9BQUEsVUFBQXlNLEtBQUEsaUJBQUEsU0FBQUMsR0FBQUEsRUFBQUMsSUFBQSx1QkFBQSIsImZpbGUiOiJic2dyaWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYnNncmlkJywgW1xyXG4gICAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICAgJ25nQW5pbWF0ZScsXHJcbiAgICAgICd1aS5yb3V0ZXInLFxyXG4gICAgICAnTG9jYWxTdG9yYWdlTW9kdWxlJ1xyXG4gICAgXSk7XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdic2dyaWQnKVxyXG4gICAgLmRpcmVjdGl2ZSgnYnNHcmlkQ2VsbFRlbXBsYXRlJywgQlNHcmlkQ2VsbFRlbXBsYXRlKTtcclxuXHJcbiAgLyoqIEBuZ0luamVjdCAqL1xyXG4gIGZ1bmN0aW9uIEJTR3JpZENlbGxUZW1wbGF0ZSgkY29tcGlsZSkge1xyXG5cclxuICAgIC8vIHNvdXJjZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ4NDY4MzYvaW5zZXJ0LWFuLWFuZ3VsYXItanMtdGVtcGxhdGUtc3RyaW5nLWluc2lkZS1hbi1lbGVtZW50XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzY29wZTogdHJ1ZSxcclxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIHZhciBlbDtcclxuXHJcbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2JzR3JpZENlbGxUZW1wbGF0ZScsIGZ1bmN0aW9uICh0cGwpIHtcclxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0cGwpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIGFnYWluc3QgdGhlIGN1cnJlbnQgc2NvcGVcclxuICAgICAgICAgICAgZWwgPSAkY29tcGlsZSh0cGwpKHNjb3BlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHN0dXBpZCB3YXkgb2YgZW1wdHlpbmcgdGhlIGVsZW1lbnRcclxuICAgICAgICAgICAgZWxlbWVudC5odG1sKCcnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgdGVtcGxhdGUgY29udGVudFxyXG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZChlbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIixudWxsLCIoZnVuY3Rpb24gKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYnNncmlkJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgLyoqIEBuZ0luamVjdCAqL1xyXG4gIGZ1bmN0aW9uIGNvbmZpZyhsb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXIpIHtcclxuXHJcbiAgICAvL1NldCBsb2NhbCBzdG9yYWdlXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXIuc2V0UHJlZml4KCdic2dyaWQnKTtcclxuXHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2JzZ3JpZCcpXG4gICAgLmRpcmVjdGl2ZSgnYnNHcmlkJywgQlNHcmlkKTtcblxuICAvKiogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIEJTR3JpZCgpIHtcblxuICAgIHJldHVybiB7XG4gICAgICBzY29wZToge1xuICAgICAgICBvcHRpb25zOiAnPSdcbiAgICAgIH0sXG4gICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2JzZ3JpZC5odG1sJyxcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICBjb250cm9sbGVyOiAgQlNHcmlkQ29udHJvbGxlclxuICAgIH07XG5cbiAgICAvKiogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gQlNHcmlkQ29udHJvbGxlcigkc2NvcGUsICRlbGVtZW50LCAkZmlsdGVyLCAkdGltZW91dCwgJHN0YXRlLCBsb2NhbFN0b3JhZ2VTZXJ2aWNlKSB7XG5cbiAgICAgICRzY29wZS5maWx0ZXJlZEl0ZW1zID0gJHNjb3BlLm9wdGlvbnMuaXRlbXM7XG4gICAgICAkc2NvcGUuZGlzcGxheWVkSXRlbXMgPSBbXTtcblxuICAgICAgJHNjb3BlLnNob3dpbmcgPSB7XG4gICAgICAgIGJlZ2luOiAwLFxuICAgICAgICBlbmQ6IDAsXG4gICAgICAgIG9mOiAwXG4gICAgICB9O1xuXG4gICAgICAvL3NldCB2YWx1ZXMgaWYgbm90IGRlZmluZWRcbiAgICAgICRzY29wZS5zZXRVbmRlZmluZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnBhZ2VTaXplU2hvdykpIHtcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5wYWdlU2l6ZVNob3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnBhZ2VTaXplKSkge1xuICAgICAgICAgICRzY29wZS5vcHRpb25zLnBhZ2VTaXplID0gMjU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLm9wdGlvbnMucGFnZVNpemVPcHRpb25zKSkge1xuICAgICAgICAgICRzY29wZS5vcHRpb25zLnBhZ2VTaXplT3B0aW9ucyA9IFsxMCwgMjUsIDUwLCAxMDBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLmxvY2FsU3RvcmFnZSkpIHtcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2VJZ25vcmVQYWdlU2l6ZSkpIHtcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2VJZ25vcmVQYWdlU2l6ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLmxvY2tUYWJsZSkpIHtcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5sb2NrVGFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnNlbGVjdGFibGUpKSB7XG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0YWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLm11bHRpU2VsZWN0KSkge1xuICAgICAgICAgICRzY29wZS5vcHRpb25zLm11bHRpU2VsZWN0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLm9wdGlvbnMuc2NvcGUpKSB7XG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2NvcGUgPSAkc2NvcGU7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnNjb3BlID0gJHNjb3BlLm9wdGlvbnMuc2NvcGU7XG5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLm9wdGlvbnMuc2hvd1NlYXJjaCkpIHtcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5zaG93U2VhcmNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5zaG93Rm9vdGVyKSkge1xuICAgICAgICAgICRzY29wZS5vcHRpb25zLnNob3dGb290ZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnNob3dFeHBvcnRCdXR0b24pKSB7XG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2hvd0V4cG9ydEJ1dHRvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLm9wdGlvbnMubmFtZSkpIHtcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5uYW1lID0gJHN0YXRlLmN1cnJlbnQubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5zY3JvbGxIb3Jpem9udGFsKSkge1xuICAgICAgICAgICRzY29wZS5vcHRpb25zLnNjcm9sbEhvcml6b250YWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIF8uZm9yRWFjaCgkc2NvcGUub3B0aW9ucy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGMud2lkdGgpKSB7XG4gICAgICAgICAgICBjLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChjLnNvcnRhYmxlKSkge1xuICAgICAgICAgICAgYy5zb3J0YWJsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGMubmFtZSkgJiYgYW5ndWxhci5pc1VuZGVmaW5lZChjLmZpZWxkKSkge1xuICAgICAgICAgICAgdGhyb3cgJ2JzZ3JpZDogTmFtZSBpcyByZXF1aXJlZCBpZiBubyBmaWVsZCBpcyBwcm92aWRlZC4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChjLnZpc2libGUpKSB7XG4gICAgICAgICAgICBjLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUubG9jYWxTdG9yYWdlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdic0dyaWQtJyArICRzY29wZS5vcHRpb25zLm5hbWU7XG4gICAgICB9O1xuXG4gICAgICAvL0NoZWNrIGxvY2FsIHN0b3JhZ2UgZm9yIHNhdmVkIHNldHRpbmdzXG4gICAgICAkc2NvcGUuZ2V0TG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISRzY29wZS5vcHRpb25zLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJHNjb3BlLmxvY2FsU3RvcmFnZU5hbWUoKSk7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEucGFnZVNpemUpICYmICEkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2VJZ25vcmVQYWdlU2l6ZSkge1xuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMucGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGF0YS5jb2x1bW5zKSkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgdGFrZSBhbGwgaW5mbywgd2UganVzdCB3YW50IHRoZSB2aXNhYmxlIGNvbHVtbnMsIG9yZGVyLCByZXZlcnNlLCBhbmQgd2hpY2ggaXMgc29ydGVkIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICB2YXIgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uZm9yRWFjaChkYXRhLmNvbHVtbnMsIGZ1bmN0aW9uIChjLCBpKSB7XG4gICAgICAgICAgICAgIHZhciBpbmRleCA9IF8uZmluZEluZGV4KCRzY29wZS5vcHRpb25zLmNvbHVtbnMsIHtuYW1lOiBjLm5hbWV9KTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSAkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnNbaW5kZXhdID0gJHNjb3BlLm9wdGlvbnMuY29sdW1uc1tpXTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnNbaV0gPSB0bXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnNbaV0udmlzaWJsZSA9IGMudmlzaWJsZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2ldLnNvcnRlZCA9IGMuc29ydGVkO1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjLnJldmVyc2UpKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2ldLnJldmVyc2UgPSBjLnJldmVyc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjLnNvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgaXNTb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9pZiBub3RoaW5nIGlzIHNvcnRlZCwgc29ydCB0aGUgZmlyc3QgY29sdW1uXG4gICAgICAgICAgICBpZiAoIWlzU29ydGVkKSB7XG4gICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnNbMF0uc29ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5oaWRlQ29sdW1uID0gZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgYy52aXNpYmxlID0gIWMudmlzaWJsZTtcbiAgICAgICAgJHNjb3BlLnNldExvY2FsU3RvcmFnZSgpO1xuICAgICAgfTtcblxuICAgICAgLy9zYXZlcyBzZXR0aW5ncyB0byBsb2NhbCBzdG9yYWdlXG4gICAgICAkc2NvcGUuc2V0TG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISRzY29wZS5vcHRpb25zLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KCRzY29wZS5sb2NhbFN0b3JhZ2VOYW1lKCksIHtcbiAgICAgICAgICBwYWdlU2l6ZTogJHNjb3BlLm9wdGlvbnMucGFnZVNpemUsXG4gICAgICAgICAgY29sdW1uczogJHNjb3BlLm9wdGlvbnMuY29sdW1uc1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5vbkRyb3BDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbmRleCwgb2JqKSB7XG4gICAgICAgIC8vb2JqIGlzIHRoZSBjb2x1bW4gdGhhdCB3YXMgbW92ZWQsIGluZGV4IGlzIHRoZSBjb2x1bW4gaW5kZXggdGhhdCBvYmogd2FzIGRyb3BwZWQgb250by5cbiAgICAgICAgdmFyIG90aGVySW5kZXggPSAkc2NvcGUub3B0aW9ucy5jb2x1bW5zLmluZGV4T2Yob2JqKTtcbiAgICAgICAgJHNjb3BlLm9wdGlvbnMuY29sdW1ucy5zcGxpY2Uob3RoZXJJbmRleCwgMSk7XG4gICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnMuc3BsaWNlKGluZGV4LCAwLCBvYmopO1xuICAgICAgICAkc2NvcGUuc2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuc2V0V2F0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy93YXRjaCBwYWdlU2l6ZVxuICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHNjb3BlLm9wdGlvbnMucGFnZVNpemU7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkc2NvcGUuc2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICRzY29wZS5nZXRQYWdlKCk7XG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIC8vd2F0Y2ggaXRlbXNcbiAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5vcHRpb25zLml0ZW1zO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy9jaGVjayB0aGF0IG5vIGl0ZW1zIGluIHNlbGVjdGVkIGhhdmUgYmVlbiByZW1vdmVkXG4gICAgICAgICAgdmFyIG5ld1NlbGVjdGVkID0gW107XG4gICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBfKCRzY29wZS5vcHRpb25zLml0ZW1zKS5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAgICAgLy9pZiB0aGUgY3VycmVudCBzZWxlY3RlZCBpdGVtIGlzIE5PVCBpbiB0aGUgbWFzdGVyIGl0ZW1zIGxpc3QsIHNhdmUgaXQuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgIC8vc2F2ZSB0aGUgaXRlbSBzbyBpdCBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzZWxlY3RlZEl0ZW1zIGxpc3RcbiAgICAgICAgICAgICAgbmV3U2VsZWN0ZWQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvL1JlbW92ZSBlYWNoIHNhdmVkIGl0ZW0gZnJvbSB0aGUgc2VsZWN0ZWQgSXRlbXMgbGlzdCB1bmxlc3MgdGhlcmUgaXMgYW4gaXRlbSB3aXRoIHRoZSBzYW1lIGlkXG4gICAgICAgICAgXy5mb3JFYWNoKG5ld1NlbGVjdGVkLCBmdW5jdGlvbiAoaXRlbSkge1xuXG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG51bGw7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhbiBpdGVtIHdpdGggdGhlIHNhbWUgaWQsIGlmIHRoZXJlIGlzIGFkZCBpdCB0byBzZWxlY3RlZCBpdGVtcyxcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIGl0IHdhcyBqdXN0IHVwZGF0ZWQgYW5kIHdlIHN0aWxsIHdhbnQgaXQgc2VsZWN0ZWRcblxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGl0ZW0uaWQpKSB7XG4gICAgICAgICAgICAgIG1hdGNoZXMgPSBfLmZpbHRlcigkc2NvcGUub3B0aW9ucy5pdGVtcywgeydpZCc6IGl0ZW0uaWR9KTtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBtYXRjaGVzWzBdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc0luZGV4ID0gXy5pbmRleE9mKCRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMsIGl0ZW0pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMuc3BsaWNlKHNJbmRleCwgMSwgbWF0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMuc3BsaWNlKHNJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkc2NvcGUuc3RhcnQoKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICAvL1VwZGF0ZXMgdGhlIGN1cnJlbnQgZGlzcGxheWVkIGl0ZW1zIGFuZCBzaG93aW5nIGluZm9cbiAgICAgICRzY29wZS5nZXRQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYmVnaW4gPSAoKCRzY29wZS5vcHRpb25zLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUub3B0aW9ucy5wYWdlU2l6ZSk7XG4gICAgICAgIHZhciBlbmQgPSBiZWdpbiArICRzY29wZS5vcHRpb25zLnBhZ2VTaXplO1xuICAgICAgICAkc2NvcGUuZGlzcGxheWVkSXRlbXMgPSAkc2NvcGUuZmlsdGVyZWRJdGVtcy5zbGljZShiZWdpbiwgZW5kKTtcblxuICAgICAgICAvL3VwZGF0ZSBzaG93aW5nIGluZm9cbiAgICAgICAgaWYgKCRzY29wZS5kaXNwbGF5ZWRJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAkc2NvcGUuc2hvd2luZy5iZWdpbiA9IGJlZ2luO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICRzY29wZS5zaG93aW5nLmJlZ2luID0gYmVnaW4gKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNob3dpbmcuZW5kID0gYmVnaW4gKyAkc2NvcGUuZGlzcGxheWVkSXRlbXMubGVuZ3RoO1xuICAgICAgICAkc2NvcGUuc2hvd2luZy5vZiA9ICRzY29wZS5maWx0ZXJlZEl0ZW1zLmxlbmd0aDtcbiAgICAgIH07XG5cbiAgICAgIC8vc29ydCBhbGwgdGhlIGl0ZW1zIGJ5IGEgY29sdW1uXG4gICAgICAkc2NvcGUuc29ydCA9IGZ1bmN0aW9uIChjb2wsIGNoYW5nZVJldmVyc2UpIHtcbiAgICAgICAgLy9leGl0IGlmIHdlIGNhbnQgc29ydCB0aGlzIGNvbHVtblxuICAgICAgICBpZiAoY29sLnNvcnRhYmxlICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy91bnNvcnQgdGhlIHJlc3RcbiAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5vcHRpb25zLmNvbHVtbnMsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgaWYgKGMgIT09IGNvbCkge1xuICAgICAgICAgICAgYy5zb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGMucmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9pZiBpdCB3YXMgYWxyZWFkeSBzb3J0ZWQgYW5kIHJldmVyc2Ugd2FzIG5vdCBzZXQsIHJldmVyc2UgaXRcbiAgICAgICAgY29sLnNvcnRlZCA9IHRydWU7XG4gICAgICAgIGlmIChjaGFuZ2VSZXZlcnNlKSB7XG4gICAgICAgICAgY29sLnJldmVyc2UgPSAhY29sLnJldmVyc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlsdGVyID0gJGZpbHRlcignb3JkZXJCeScpO1xuICAgICAgICAkc2NvcGUuZmlsdGVyZWRJdGVtcyA9IGZpbHRlcigkc2NvcGUuZmlsdGVyZWRJdGVtcywgY29sLmZpZWxkLCBjb2wucmV2ZXJzZSk7XG4gICAgICAgICRzY29wZS5nZXRQYWdlKCk7XG5cbiAgICAgICAgJHNjb3BlLnNldExvY2FsU3RvcmFnZSgpO1xuICAgICAgfTtcblxuICAgICAgLy9maWx0ZXIgdGhlIGl0ZW1zIGJhc2VkIG9uIHRoZSBzZWFyY2ggZmlsdGVyXG4gICAgICAkc2NvcGUuZmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmlsdGVyID0gJGZpbHRlcignZmlsdGVyJyk7XG4gICAgICAgICRzY29wZS5maWx0ZXJlZEl0ZW1zID0gZmlsdGVyKCRzY29wZS5vcHRpb25zLml0ZW1zLCAkc2NvcGUub3B0aW9ucy5zZWFyY2hGaWx0ZXIpO1xuICAgICAgICAkc2NvcGUuZ2V0UGFnZSgpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXG4gICAgICAgIGlmICghJHNjb3BlLm9wdGlvbnMuc2VsZWN0YWJsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleCA9IF8uaW5kZXhPZigkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zLCBpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEkc2NvcGUub3B0aW9ucy5tdWx0aVNlbGVjdCAmJiAkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMuc3BsaWNlKDAsIDEpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMucHVzaChpdGVtKTtcbiAgICAgIH07XG5cbiAgICAgIC8vc3RvcHMgdGhlIGNsaWNrIGZyb20gZ29pbmcgdG8gdGhlIHJvdyBhbmQgc3dpdGNoaW5nIGl0IGEgc2Vjb25kIHRpbWVcbiAgICAgICRzY29wZS5zZWxlY3RJdGVtQ2hlY2tib3ggPSBmdW5jdGlvbiAoJGV2ZW50LCBpdGVtKSB7XG4gICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgJHNjb3BlLnNlbGVjdEl0ZW0oaXRlbSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuaXNTZWxlY3RlZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXG4gICAgICAgIHZhciBpbmRleCA9IF8uaW5kZXhPZigkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zLCBpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS50b2dnbGVTZWxlY3RBbGwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5maWx0ZXJlZEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKCEkc2NvcGUuaXNTZWxlY3RlZEl0ZW0oaXRlbSkpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEl0ZW0oaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5maWx0ZXJlZEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5pc1NlbGVjdGVkSXRlbShpdGVtKSkge1xuICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbShpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy9sb2NrcyB0aGUgdGFibGUsIGdvdCB0aGUgaWRlYSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90dXJuL2FuZ3VsYXItbG9jay1jb2x1bW4td2lkdGhzXG4gICAgICAvL2ZpeHMgYSBwcm9ibGVtIHdoZXJlIGF1dG8gc2l6ZSBjaGFuZ2VzIGZyb20gcGFnZSB0byBwYWdlXG4gICAgICAkc2NvcGUubG9ja1RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISRzY29wZS5vcHRpb25zLmxvY2tUYWJsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vd2FpdCBmb3IgZG9tIHRvIHJlbmRlciBzbyB3ZSBjYW4gZmluZCB0aGUgdGhzXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgdGhzID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50KS5maW5kKCdkaXYgdGFibGUgdGhlYWQgdHIgdGgnKTtcblxuICAgICAgICAgIC8vIGdvaW5nIHRvIGFzc3VtZSBlYWNoIGVsZW1lbnQgaXMgaW4gdGhlIHNhbWUgb3JkZXIgYXMgY29sdW1lcywgaWYgdGhleSBhcmUgc2V0IHRvIGF1dG8sIHdlIGFyZVxuICAgICAgICAgIC8vIGdvaW5nIHRvIGhhcmQgY29kZSB0aGVyZSB3aWR0aFxuICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgIF8uZm9yRWFjaCh0aHMsIGZ1bmN0aW9uICh0aCkge1xuICAgICAgICAgICAgdmFyIGUgPSBhbmd1bGFyLmVsZW1lbnQodGgpO1xuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLm9wdGlvbnMuc2VsZWN0YWJsZSAmJiBpID09PSAwKSB7IC8vc2tpcCB0aGUgZmlyc3QgdGgsIGFuZCByZXNldCBpO1xuICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2ldLndpZHRoID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGUpLmNzcygnd2lkdGgnLCB0aC5vZmZzZXRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvL25vdyBsb2NrIHRoZSB0YWJsZSBzbyBpdCBkb2Vzbid0IGNoYW5nZVxuICAgICAgICAgIHZhciB0YWJsZSA9IGFuZ3VsYXIuZWxlbWVudCgkZWxlbWVudCkuZmluZCgnZGl2IHRhYmxlJyk7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KHRhYmxlKS5jc3MoJ3RhYmxlLWxheW91dCcsICdmaXhlZCcpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH07XG5cbiAgICAgIC8vZXZlcnl0aGluZyBpcyBzZXR1cCwgZmlsbGVyIGFuZCBzb3J0XG4gICAgICAkc2NvcGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKCRzY29wZS5vcHRpb25zLnNlYXJjaEZpbHRlciAhPT0gJycpIHtcbiAgICAgICAgICAkc2NvcGUuZmlsdGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29sID0gXy5maW5kKCRzY29wZS5vcHRpb25zLmNvbHVtbnMsICdzb3J0ZWQnKTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGNvbCkpIHtcbiAgICAgICAgICAkc2NvcGUuc29ydChjb2wsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkc2NvcGUuZ2V0UGFnZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLnNldFVuZGVmaW5lZCgpO1xuICAgICAgICAkc2NvcGUuZ2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgICAgICRzY29wZS5zZXRXYXRjaGVzKCk7XG4gICAgICAgICRzY29wZS5sb2NrVGFibGUoKTtcblxuICAgICAgICAkc2NvcGUuc3RhcnQoKTtcbiAgICAgIH07XG4gICAgICAkc2NvcGUuaW5pdCgpO1xuXG4gICAgICAvLyAqKioqKioqIEV4cG9ydDogKioqKioqKlxuXG4gICAgICAkc2NvcGUuZXhwb3J0VHlwZXMgPSB7XG4gICAgICAgIEZJTFRFUkVEOiAwLFxuICAgICAgICBTRUxFQ1RFRDogMSxcbiAgICAgICAgQUxMOiAyXG4gICAgICB9O1xuXG5cbiAgICAgICRzY29wZS5HZXRSb3dzRm9yRXhwb3J0ID0gZnVuY3Rpb24gKGV4cG9ydFR5cGUsIGZpZWxkTmFtZXMsIGNzdkRhdGEpIHtcblxuICAgICAgICB2YXIgaXRlbUluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1ckNlbGxSYXcgPSAnJztcbiAgICAgICAgdmFyIGl0ZW1zVG9FeHBvcnQgPSBbXTtcblxuICAgICAgICAvLyBXaGF0IGl0ZW1zIHdlIGFyZSBpbXBvcnRpbmc/XG4gICAgICAgIHN3aXRjaCAoZXhwb3J0VHlwZSkge1xuICAgICAgICAgIGNhc2UgJHNjb3BlLmV4cG9ydFR5cGVzLkZJTFRFUkVEOlxuICAgICAgICAgICAgaXRlbXNUb0V4cG9ydCA9ICRzY29wZS5kaXNwbGF5ZWRJdGVtcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJHNjb3BlLmV4cG9ydFR5cGVzLlNFTEVDVEVEOlxuICAgICAgICAgICAgaXRlbXNUb0V4cG9ydCA9ICRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICRzY29wZS5leHBvcnRUeXBlcy5BTEw6XG4gICAgICAgICAgICBpdGVtc1RvRXhwb3J0ID0gJHNjb3BlLm9wdGlvbnMuaXRlbXM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdvIHRocm91Z2ggZXZlcnkgaXRlbVxuICAgICAgICBfLmVhY2goaXRlbXNUb0V4cG9ydCwgZnVuY3Rpb24gKGl0ZW1Ub0V4cG9ydCkge1xuXG4gICAgICAgICAgLy8gR28gdGhyb3VnaCBmaWVsZHNcbiAgICAgICAgICBfLmVhY2goZmllbGROYW1lcywgZnVuY3Rpb24gKGZpZWxkTmFtZSkge1xuXG4gICAgICAgICAgICAvLyBJcyBmaWVsZCBuYW1lIGRlZmluZWQ/XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXRlbVRvRXhwb3J0W2ZpZWxkTmFtZV0pKSB7XG4gICAgICAgICAgICAgIGN1ckNlbGxSYXcgPSBpdGVtVG9FeHBvcnRbZmllbGROYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGl0ZW1Ub0V4cG9ydC5zZWFyY2gpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGl0ZW1Ub0V4cG9ydC5zZWFyY2hbZmllbGROYW1lXSkpIHtcbiAgICAgICAgICAgICAgLy8gWWVzLCBzbyBnZXQgdGhlIGNlbGwgdmFsdWVcbiAgICAgICAgICAgICAgY3VyQ2VsbFJhdyA9IGl0ZW1Ub0V4cG9ydC5zZWFyY2hbZmllbGROYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUT0RPOiBTaG91bGRuJ3QgcmVhY2ggdGhpcywgdGhpcyBoYXBwZW5zIHdoZW4gYSBtb2RlbCBkaXJlY3RpdmUgaXNuJ3QgbG9hZGVkIGR1ZSB0byBwYWdpbmdcbiAgICAgICAgICAgICAgY3VyQ2VsbFJhdyA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjc3ZEYXRhICs9ICdcIicgKyAkc2NvcGUuY3N2U3RyaW5naWZ5KGN1ckNlbGxSYXcpICsgJ1wiLCc7ICAgLy8gQ3JlYXRlcyBhIG5ldyByb3cgaW4gQ1NWXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjc3ZEYXRhID0gJHNjb3BlLnN3YXBMYXN0Q29tbWFGb3JOZXdsaW5lKGNzdkRhdGEpO1xuICAgICAgICAgIGl0ZW1JbmRleCsrO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY3N2RGF0YTtcbiAgICAgIH07XG5cbiAgICAgIC8vIENsZWFuIHVwIHRoZSBzdHJpbmcuXG4gICAgICAkc2NvcGUuY3N2U3RyaW5naWZ5ID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoc3RyID09PSBudWxsIHx8IGFuZ3VsYXIuaXNVbmRlZmluZWQoc3RyKSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcihzdHIpKSB7XG4gICAgICAgICAgcmV0dXJuICcnICsgc3RyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHIgPT09IHRydWUgfHwgc3RyID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiAoc3RyID8gJ1RydWUnIDogJ0ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoc3RyKSkge1xuICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXCIvZywgJ1wiXCInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhbmd1bGFyLnRvSnNvbihzdHIpLnJlcGxhY2UoL1wiL2csICdcIlwiJyk7XG4gICAgICB9O1xuXG5cbiAgICAgIC8vIERlbGV0ZSBsYXN0IGNvbW1hIGZyb20gQ1NWIHN0cmluZy5cbiAgICAgICRzY29wZS5zd2FwTGFzdENvbW1hRm9yTmV3bGluZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIG5ld1N0ciA9IHN0ci5zdWJzdHIoMCwgc3RyLmxlbmd0aCAtIDEpO1xuICAgICAgICByZXR1cm4gbmV3U3RyICsgJ1xcbic7XG4gICAgICB9O1xuXG5cbiAgICAgIC8vIENyZWF0ZSBhIGRvd25sb2FkYWJsZSBsaW5rIGFuZCBjbGljayBpdC5cbiAgICAgICRzY29wZS5TdWJtaXRGaWxlVG9Vc2VyID0gZnVuY3Rpb24gKGNzdkRhdGEpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxhLz4nKTtcbiAgICAgICAgZWxlbWVudC5hdHRyKHtcbiAgICAgICAgICBocmVmOiAnZGF0YTphdHRhY2htZW50L2NzdjtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUkkoY3N2RGF0YSksXG4gICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJyxcbiAgICAgICAgICBkb3dubG9hZDogJ2V4cG9ydC5jc3YnXG4gICAgICAgIH0pWzBdLmNsaWNrKCk7XG4gICAgICB9O1xuXG5cbiAgICAgICRzY29wZS5leHBvcnQgPSBmdW5jdGlvbiAoZXhwb3J0VHlwZSkge1xuICAgICAgICB2YXIgZmllbGROYW1lcyA9IFtdO1xuICAgICAgICB2YXIgY3N2RGF0YSA9ICcnO1xuICAgICAgICB2YXIgcmVxdWVzdHMgPSBbXTtcblxuICAgICAgICAvLyBHZXQgY29sdW1uIG5hbWVzIGZvciBkaXNwbGF5aW5nIGluIGEgcmVwb3J0IGFuZCBuYW1lcyBvZiBhbGwgZmllbGRzXG4gICAgICAgIF8uZWFjaCgkc2NvcGUub3B0aW9ucy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGZpZWxkTmFtZXMucHVzaChjLmZpZWxkKTtcbiAgICAgICAgICByZXF1ZXN0cy5wdXNoKGMubmFtZSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgaGVhZGVyIGZvciBDU1YgRXhwb3J0XG4gICAgICAgIF8uZWFjaChyZXF1ZXN0cywgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBjc3ZEYXRhICs9ICdcIicgKyAkc2NvcGUuY3N2U3RyaW5naWZ5KHYpICsgJ1wiLCc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNzdkRhdGEgPSAkc2NvcGUuc3dhcExhc3RDb21tYUZvck5ld2xpbmUoY3N2RGF0YSk7XG4gICAgICAgIGNzdkRhdGEgPSAkc2NvcGUuR2V0Um93c0ZvckV4cG9ydChleHBvcnRUeXBlLCBmaWVsZE5hbWVzLCBjc3ZEYXRhKTtcblxuICAgICAgICAvLyBTZW5kIGl0IHRvIHVzZXJcbiAgICAgICAgJHNjb3BlLlN1Ym1pdEZpbGVUb1VzZXIoY3N2RGF0YSk7XG5cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbn0pKCk7XG5cblxuXG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYnNncmlkJylcbiAgICAuZGlyZWN0aXZlKCdic2dyaWRBdXRvRm9jdXMnLCBCU0dyaWRBdXRvRm9jdXMpO1xuXG4gICAvKiogQG5nSW5qZWN0ICovXG4gICBmdW5jdGlvbiBCU0dyaWRBdXRvRm9jdXMoJHRpbWVvdXQpIHtcbiAgICAgcmV0dXJuIHtcbiAgICAgICByZXN0cmljdDogJ0FDJyxcbiAgICAgICBsaW5rOiBmdW5jdGlvbiAoX3Njb3BlLCBfZWxlbWVudCkge1xuICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICBfZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICAgfSwgMCk7XG4gICAgICAgfVxuICAgICB9XG4gICB9XG5cblxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4vLyBGb3VuZCByZWZlcmVuY2UgZm9yIHNvcnQgYXQgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzE1NTg1Ni9hbmd1bGFyanMtbmctcmVwZWF0LW9yZGVyYnktb3JkZXJzLW51bWJlcnMtaW5jb3JyZWN0bHlcclxuLy8gdXNlZCBvcmRlckJ5IHNvdXJjZSBmb3IgZXhhbXBsZSBhdCBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2Jsb2IvbWFzdGVyL3NyYy9uZy9maWx0ZXIvb3JkZXJCeS5qcyNMM1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdic2dyaWQnKVxyXG4gICAgLmZpbHRlcignbmF0dXJhbFNvcnRCeScsIE5hdHVyYWxTb3J0QnkpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gTmF0dXJhbFNvcnRCeSgkcGFyc2UpIHtcclxuICAgIGZ1bmN0aW9uIG5hdHVyYWxTb3J0KGEsIGIpIHtcclxuICAgICAgdmFyIHJlID0gLyheLT9bMC05XSsoXFwuP1swLTldKilbZGZdP2U/WzAtOV0/JHxeMHhbMC05YS1mXSskfFswLTldKykvZ2ksXHJcbiAgICAgICAgc3JlID0gLyheWyBdKnxbIF0qJCkvZyxcclxuICAgICAgICBkcmUgPSAvKF4oW1xcdyBdKyw/W1xcdyBdKyk/W1xcdyBdKyw/W1xcdyBdK1xcZCs6XFxkKyg6XFxkKyk/W1xcdyBdP3xeXFxkezEsNH1bXFwvXFwtXVxcZHsxLDR9W1xcL1xcLV1cXGR7MSw0fXxeXFx3KywgXFx3KyBcXGQrLCBcXGR7NH0pLyxcclxuICAgICAgICBocmUgPSAvXjB4WzAtOWEtZl0rJC9pLFxyXG4gICAgICAgIG9yZSA9IC9eMC8sXHJcbiAgICAgICAgaSA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmF0dXJhbFNvcnQuaW5zZW5zaXRpdmUgJiYgKCcnICsgcykudG9Mb3dlckNhc2UoKSB8fCAnJyArIHNcclxuICAgICAgICB9LFxyXG4gICAgICAvLyBjb252ZXJ0IGFsbCB0byBzdHJpbmdzIHN0cmlwIHdoaXRlc3BhY2VcclxuICAgICAgICB4ID0gaShhKS5yZXBsYWNlKHNyZSwgJycpIHx8ICcnLFxyXG4gICAgICAgIHkgPSBpKGIpLnJlcGxhY2Uoc3JlLCAnJykgfHwgJycsXHJcbiAgICAgIC8vIGNodW5rL3Rva2VuaXplXHJcbiAgICAgICAgeE4gPSB4LnJlcGxhY2UocmUsICdcXDAkMVxcMCcpLnJlcGxhY2UoL1xcMCQvLCAnJykucmVwbGFjZSgvXlxcMC8sICcnKS5zcGxpdCgnXFwwJyksXHJcbiAgICAgICAgeU4gPSB5LnJlcGxhY2UocmUsICdcXDAkMVxcMCcpLnJlcGxhY2UoL1xcMCQvLCAnJykucmVwbGFjZSgvXlxcMC8sICcnKS5zcGxpdCgnXFwwJyksXHJcbiAgICAgIC8vIG51bWVyaWMsIGhleCBvciBkYXRlIGRldGVjdGlvblxyXG4gICAgICAgIHhEID0gcGFyc2VJbnQoeC5tYXRjaChocmUpKSB8fCAoeE4ubGVuZ3RoICE9IDEgJiYgeC5tYXRjaChkcmUpICYmIERhdGUucGFyc2UoeCkpLFxyXG4gICAgICAgIHlEID0gcGFyc2VJbnQoeS5tYXRjaChocmUpKSB8fCB4RCAmJiB5Lm1hdGNoKGRyZSkgJiYgRGF0ZS5wYXJzZSh5KSB8fCBudWxsLFxyXG4gICAgICAgIG9GeE5jTCwgb0Z5TmNMO1xyXG4gICAgICAvLyBmaXJzdCB0cnkgYW5kIHNvcnQgSGV4IGNvZGVzIG9yIERhdGVzXHJcbiAgICAgIGlmICh5RClcclxuICAgICAgICBpZiAoeEQgPCB5RCkgcmV0dXJuIC0xO1xyXG4gICAgICAgIGVsc2UgaWYgKHhEID4geUQpIHJldHVybiAxO1xyXG4gICAgICAvLyBuYXR1cmFsIHNvcnRpbmcgdGhyb3VnaCBzcGxpdCBudW1lcmljIHN0cmluZ3MgYW5kIGRlZmF1bHQgc3RyaW5nc1xyXG4gICAgICBmb3IgKHZhciBjTG9jID0gMCwgbnVtUyA9IE1hdGgubWF4KHhOLmxlbmd0aCwgeU4ubGVuZ3RoKTsgY0xvYyA8IG51bVM7IGNMb2MrKykge1xyXG4gICAgICAgIC8vIGZpbmQgZmxvYXRzIG5vdCBzdGFydGluZyB3aXRoICcwJywgc3RyaW5nIG9yIDAgaWYgbm90IGRlZmluZWQgKENsaW50IFByaWVzdClcclxuICAgICAgICBvRnhOY0wgPSAhKHhOW2NMb2NdIHx8ICcnKS5tYXRjaChvcmUpICYmIHBhcnNlRmxvYXQoeE5bY0xvY10pIHx8IHhOW2NMb2NdIHx8IDA7XHJcbiAgICAgICAgb0Z5TmNMID0gISh5TltjTG9jXSB8fCAnJykubWF0Y2gob3JlKSAmJiBwYXJzZUZsb2F0KHlOW2NMb2NdKSB8fCB5TltjTG9jXSB8fCAwO1xyXG4gICAgICAgIC8vIGhhbmRsZSBudW1lcmljIHZzIHN0cmluZyBjb21wYXJpc29uIC0gbnVtYmVyIDwgc3RyaW5nIC0gKEt5bGUgQWRhbXMpXHJcbiAgICAgICAgaWYgKGlzTmFOKG9GeE5jTCkgIT09IGlzTmFOKG9GeU5jTCkpIHtcclxuICAgICAgICAgIHJldHVybiAoaXNOYU4ob0Z4TmNMKSkgPyAxIDogLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJlbHkgb24gc3RyaW5nIGNvbXBhcmlzb24gaWYgZGlmZmVyZW50IHR5cGVzIC0gaS5lLiAnMDInIDwgMiAhPSAnMDInIDwgJzInXHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9GeE5jTCAhPT0gdHlwZW9mIG9GeU5jTCkge1xyXG4gICAgICAgICAgb0Z4TmNMICs9ICcnO1xyXG4gICAgICAgICAgb0Z5TmNMICs9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob0Z4TmNMIDwgb0Z5TmNMKSByZXR1cm4gLTE7XHJcbiAgICAgICAgaWYgKG9GeE5jTCA+IG9GeU5jTCkgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcnJheSwgc29ydFByZWRpY2F0ZSwgcmV2ZXJzZU9yZGVyKSB7XHJcbiAgICAgIGlmICghYW5ndWxhci5pc0FycmF5KGFycmF5KSkgcmV0dXJuIGFycmF5O1xyXG4gICAgICBpZiAoIXNvcnRQcmVkaWNhdGUpIHJldHVybiBhcnJheTtcclxuICAgICAgc29ydFByZWRpY2F0ZSA9IGFuZ3VsYXIuaXNBcnJheShzb3J0UHJlZGljYXRlKSA/IHNvcnRQcmVkaWNhdGUgOiBbc29ydFByZWRpY2F0ZV07XHJcbiAgICAgIHNvcnRQcmVkaWNhdGUgPSBfLm1hcChzb3J0UHJlZGljYXRlLCBmdW5jdGlvbiAocHJlZGljYXRlKSB7XHJcbiAgICAgICAgdmFyIGRlc2NlbmRpbmcgPSBmYWxzZSxcclxuICAgICAgICAgIGdldCA9IHByZWRpY2F0ZSB8fCBhbmd1bGFyLmlkZW50aXR5O1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHByZWRpY2F0ZSkpIHtcclxuICAgICAgICAgIGlmICgocHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnKycgfHwgcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLScpKSB7XHJcbiAgICAgICAgICAgIGRlc2NlbmRpbmcgPSBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJztcclxuICAgICAgICAgICAgcHJlZGljYXRlID0gcHJlZGljYXRlLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGdldCA9ICRwYXJzZShwcmVkaWNhdGUpO1xyXG4gICAgICAgICAgaWYgKGdldC5jb25zdGFudCkge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gZ2V0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXZlcnNlQ29tcGFyYXRvcihmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuYXR1cmFsU29ydChhW2tleV0sIGJba2V5XSk7XHJcbiAgICAgICAgICAgIH0sIGRlc2NlbmRpbmcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgIHJldHVybiBuYXR1cmFsU29ydChnZXQoYSksIGdldChiKSk7XHJcbiAgICAgICAgfSwgZGVzY2VuZGluZyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdmFyIGFycmF5Q29weSA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYXJyYXlDb3B5LnB1c2goYXJyYXlbaV0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBhcnJheUNvcHkuc29ydChyZXZlcnNlQ29tcGFyYXRvcihjb21wYXJhdG9yLCByZXZlcnNlT3JkZXIpKTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNvbXBhcmF0b3IobzEsIG8yKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0UHJlZGljYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgY29tcCA9IHNvcnRQcmVkaWNhdGVbaV0obzEsIG8yKTtcclxuICAgICAgICAgIGlmIChjb21wICE9PSAwKSByZXR1cm4gY29tcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJldmVyc2VDb21wYXJhdG9yKGNvbXAsIGRlc2NlbmRpbmcpIHtcclxuICAgICAgICByZXR1cm4gZGVzY2VuZGluZ1xyXG4gICAgICAgICAgPyBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgcmV0dXJuIGNvbXAoYiwgYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgOiBjb21wO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiYW5ndWxhci5tb2R1bGUoXCJic2dyaWRcIikucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7JHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYnNncmlkLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcInJvdyBicy1ncmlkLW1hcmdpblxcXCI+PGRpdiBjbGFzcz1cXFwiY29sLXNtLTlcXFwiPjxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCIgdWliLWRyb3Bkb3duPVxcXCJcXFwiIGRyb3Bkb3duLWFwcGVuZC10by1ib2R5PVxcXCJcXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgdWliLWRyb3Bkb3duLXRvZ2dsZT1cXFwiXFxcIj5PcHRpb25zIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPjwvYnV0dG9uPjx1bCB1aWItZHJvcGRvd24tbWVudT1cXFwiXFxcIiByb2xlPVxcXCJtZW51XFxcIj48bGkgcm9sZT1cXFwibWVudWl0ZW1cXFwiIG5nLWlmPVxcXCJvcHRpb25zLnBhZ2VTaXplU2hvd1xcXCIgY2xhc3M9XFxcImRyb3Bkb3duLWhlYWRlclxcXCI+UGFnZSBTaXplPC9saT48bGkgcm9sZT1cXFwibWVudWl0ZW1cXFwiIG5nLWlmPVxcXCJvcHRpb25zLnBhZ2VTaXplU2hvd1xcXCIgbmctcmVwZWF0PVxcXCJzaXplIGluIG9wdGlvbnMucGFnZVNpemVPcHRpb25zXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2FjdGl2ZVxcJzogb3B0aW9ucy5wYWdlU2l6ZSA9PT0gc2l6ZSB9XFxcIj48YSB0YWJpbmRleD1cXFwiLTFcXFwiIG5nLWNsaWNrPVxcXCJvcHRpb25zLnBhZ2VTaXplID0gc2l6ZVxcXCI+e3sgc2l6ZSB9fTwvYT48L2xpPjxsaSBuZy1pZj1cXFwib3B0aW9ucy5wYWdlU2l6ZVNob3dcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPjxsaSByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiIGNsYXNzPVxcXCJkcm9wZG93bi1oZWFkZXJcXFwiPkNvbHVtbnM8L2xpPjxsaSByb2xlPVxcXCJtZW51aXRlbVxcXCIgbmctcmVwZWF0PVxcXCJjb2wgaW4gb3B0aW9ucy5jb2x1bW5zXFxcIj48YSBuZy1jbGljaz1cXFwiaGlkZUNvbHVtbihjb2wpXFxcIj48aSBuZy1jbGFzcz1cXFwiY29sLnZpc2libGUgPyBcXCdnbHlwaGljb24gZ2x5cGhpY29uLW9rXFwnOiBcXCdnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVxcJ1xcXCI+PC9pPiA8c3Bhbj57eyBjb2wubmFtZSB9fTwvc3Bhbj48L2E+PC9saT48L3VsPjwvZGl2PjxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCIgbmctaWY9XFxcIm9wdGlvbnMuc2hvd0V4cG9ydEJ1dHRvblxcXCIgdWliLWRyb3Bkb3duPVxcXCJcXFwiIGRyb3Bkb3duLWFwcGVuZC10by1ib2R5PVxcXCJcXFwiPjxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgdWliLWRyb3Bkb3duLXRvZ2dsZT1cXFwiXFxcIj5FeHBvcnQgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+PC9idXR0b24+PHVsIHVpYi1kcm9wZG93bi1tZW51PVxcXCJcXFwiIHJvbGU9XFxcIm1lbnVcXFwiPjxsaSByb2xlPVxcXCJtZW51aXRlbVxcXCI+PGEgbmctY2xpY2s9XFxcImV4cG9ydChleHBvcnRUeXBlcy5GSUxURVJFRClcXFwiPkZpbHRlcmVkPC9hPjwvbGk+PGxpIHJvbGU9XFxcIm1lbnVpdGVtXFxcIj48YSBuZy1jbGljaz1cXFwiZXhwb3J0KGV4cG9ydFR5cGVzLkFMTClcXFwiPkFsbDwvYT48L2xpPjxsaSByb2xlPVxcXCJtZW51aXRlbVxcXCIgbmctaWY9XFxcIm9wdGlvbnMuc2VsZWN0ZWRJdGVtc1swXVxcXCI+PGEgbmctY2xpY2s9XFxcImV4cG9ydChleHBvcnRUeXBlcy5TRUxFQ1RFRClcXFwiPlNlbGVjdGVkPC9hPjwvbGk+PC91bD48L2Rpdj48L2Rpdj48ZGl2IG5nLWlmPVxcXCJvcHRpb25zLnNob3dTZWFyY2hcXFwiIGNsYXNzPVxcXCJjb2wtc20tM1xcXCIgc3R5bGU9XFxcIm1hcmdpbi1ib3R0b206IDEwcHhcXFwiIG5nLWNsYXNzPVxcXCJ7IFxcJ2NvbC1zbS1vZmZzZXQtOVxcJzogIW9wdGlvbnMucGFnZVNpemVTaG93IH1cXFwiPjxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwIGlucHV0LWdyb3VwLXNtXFxcIj48aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcIlNlYXJjaFxcXCIgbmctbW9kZWw9XFxcIm9wdGlvbnMuc2VhcmNoRmlsdGVyXFxcIiBuZy1jaGFuZ2U9XFxcImZpbHRlcigpXFxcIiBuZy1tb2RlbC1vcHRpb25zPVxcXCJ7IGRlYm91bmNlOiB7IFxcJ2RlZmF1bHRcXCc6IDQwMCwgXFwnYmx1clxcJzogMCB9IH1cXFwiIGJzZ3JpZC1hdXRvLWZvY3VzPVxcXCJcXFwiPiA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLXNlYXJjaFxcXCI+PC9pPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPjxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCIgbmctY2xhc3M9XFxcIntcXCd0YWJsZS1yZXNwb25zaXZlXFwnOiBvcHRpb25zLnNjcm9sbEhvcml6b250YWx9XFxcIj48dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtYm9yZGVyZWQgdGFibGUtaG92ZXIgdGFibGUtY29uZGVuc2VkIGNvbG9yMlxcXCI+PHRoZWFkPjx0cj48dGggbmctaWY9XFxcIm9wdGlvbnMubXVsdGlTZWxlY3RcXFwiIGNsYXNzPVxcXCJicy1ncmlkLXNlbGVjdFxcXCI+PGlucHV0IG5nLWlmPVxcXCJvcHRpb25zLm11bHRpU2VsZWN0XFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmctbW9kZWw9XFxcInNlbGVjdEFsbFRvZ2dsZVxcXCIgbmctY2hhbmdlPVxcXCJ0b2dnbGVTZWxlY3RBbGwoc2VsZWN0QWxsVG9nZ2xlKVxcXCI+PC90aD48dGggY2xhc3M9XFxcImJzLWdyaWQtb3ZlcmZsb3dcXFwiIG5nLXJlcGVhdD1cXFwiY29sIGluIG9wdGlvbnMuY29sdW1uc1xcXCIgbmctY2xpY2s9XFxcInNvcnQoY29sLCB0cnVlKVxcXCIgc3R5bGU9XFxcIndpZHRoOiB7eyBjb2wud2lkdGggfX07XFxcIiBuZy1zaG93PVxcXCJjb2wudmlzaWJsZVxcXCI+PGRpdiBuZy1kcm9wPVxcXCJ0cnVlXFxcIiBuZy1kcm9wLXN1Y2Nlc3M9XFxcIm9uRHJvcENvbXBsZXRlKCRpbmRleCwgJGRhdGEsICRldnQpXFxcIj48ZGl2IG5nLWRyYWc9XFxcInRydWVcXFwiIG5nLWRyYWctZGF0YT1cXFwiY29sXFxcIj48c3Bhbj57eyBjb2wubmFtZSB8fCBjb2wuZmllbGQgfX08L3NwYW4+IDxzcGFuIG5nLWlmPVxcXCJjb2wuc29ydGVkXFxcIiBjbGFzcz1cXFwib3JkZXJcXFwiIG5nLWNsYXNzPVxcXCJ7XFwnZHJvcHVwXFwnOiBjb2wucmV2ZXJzZSB9XFxcIj48c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pjx0ciBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gZGlzcGxheWVkSXRlbXNcXFwiIG5nLWNsYXNzPVxcXCJ7XFwnaW5mb1xcJyA6IGlzU2VsZWN0ZWRJdGVtKCBpdGVtICkgfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdEl0ZW0oaXRlbSlcXFwiPjx0ZCBuZy1pZj1cXFwib3B0aW9ucy5tdWx0aVNlbGVjdFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiYmctZ3JpZC1jaGVja2JveFxcXCIgbmctY2hlY2tlZD1cXFwiaXNTZWxlY3RlZEl0ZW0oaXRlbSlcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3RJdGVtQ2hlY2tib3goJGV2ZW50LCBpdGVtKVxcXCI+PC90ZD48dGQgY2xhc3M9XFxcImJzLWdyaWQtb3ZlcmZsb3dcXFwiIG5nLXJlcGVhdD1cXFwiY29sIGluIG9wdGlvbnMuY29sdW1uc1xcXCIgbmctc2hvdz1cXFwiY29sLnZpc2libGVcXFwiPjxkaXYgbmctaWY9XFxcImNvbC50ZW1wbGF0ZVxcXCIgYnMtZ3JpZC1jZWxsLXRlbXBsYXRlPVxcXCJ7eyBjb2wudGVtcGxhdGUgfX1cXFwiPjwvZGl2PjxkaXYgbmctaWY9XFxcIiFjb2wudGVtcGxhdGVcXFwiIGNsYXNzPVxcXCJicy1ncmlkLWNvbHVtbiBicy1ncmlkLWNvbHVtbi17e2NvbC5maWVsZH19XFxcIj57eyBpdGVtW2NvbC5maWVsZF0gfX08L2Rpdj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcInJvd1xcXCIgbmctaWY9XFxcIm9wdGlvbnMuc2hvd0Zvb3RlclxcXCI+PGRpdiBjbGFzcz1cXFwiY29sLXNtLTRcXFwiPjxzcGFuIG5nLWlmPVxcXCJvcHRpb25zLnNlbGVjdGFibGUgJiYgb3B0aW9ucy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCAhPSAwXFxcIj5TZWxlY3RlZCA8c3Ryb25nIGNsYXNzPVxcJ1xcXFxcXFwidGV4dC1wcmltYXJ5XFxcXFxcXCJcXCc+e3tvcHRpb25zLnNlbGVjdGVkSXRlbXMubGVuZ3RofX08L3N0cm9uZz48L3NwYW4+IDxzcGFuIG5nLWNsYXNzPVxcXCJ7IFxcJ3RleHQtZGFuZ2VyXFwnOiBkaXNwbGF5ZWRJdGVtcy5sZW5ndGggPT0gMH1cXFwiPlNob3dpbmcgPHN0cm9uZz57e3Nob3dpbmcuYmVnaW59fTwvc3Ryb25nPiB0byA8c3Ryb25nPnt7c2hvd2luZy5lbmR9fTwvc3Ryb25nPiBvZiA8c3Ryb25nIGNsYXNzPVxcJ1xcXFxcXFwidGV4dC1wcmltYXJ5XFxcXFxcXCJcXCc+e3sgc2hvd2luZy5vZn19PC9zdHJvbmc+IGl0ZW1zPC9zcGFuPjxwIG5nLWlmPVxcXCJvcHRpb25zLnNlYXJjaEZpbHRlclxcXCI+KDxlbT5GaWx0ZXJlZCBkb3duIGZyb20gPHN0cm9uZz57e29wdGlvbnMuaXRlbXMubGVuZ3RofX08L3N0cm9uZz48L2VtPik8L3A+PC9kaXY+PGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPjx1aWItcGFnaW5hdGlvbiBjbGFzcz1cXFwicGFnaW5hdGlvbi1zbSBwdWxsLXJpZ2h0IGJzLWdyaWQtcGFnaW5hdGlvblxcXCIgYm91bmRhcnktbGlua3M9XFxcInRydWVcXFwiIG1heC1zaXplPVxcXCI5XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwib3B0aW9ucy5wYWdlU2l6ZVxcXCIgdG90YWwtaXRlbXM9XFxcImZpbHRlcmVkSXRlbXMubGVuZ3RoXFxcIiBuZy1tb2RlbD1cXFwib3B0aW9ucy5jdXJyZW50UGFnZVxcXCIgbmctY2hhbmdlPVxcXCJnZXRQYWdlKClcXFwiIHByZXZpb3VzLXRleHQ9XFxcIlByZXZpb3VzXFxcIiBuZXh0LXRleHQ9XFxcIk5leHRcXFwiIGZpcnN0LXRleHQ9XFxcIkZpcnN0XFxcIiBsYXN0LXRleHQ9XFxcIkxhc3RcXFwiPjwvdWliLXBhZ2luYXRpb24+PC9kaXY+PC9kaXY+XCIpO31dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
