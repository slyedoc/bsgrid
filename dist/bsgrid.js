!function(){"use strict";angular.module("bsgrid",["ui.bootstrap","ngAnimate","ui.router","LocalStorageModule"])}(),function(){"use strict";function e(e){return{scope:!0,link:function(t,n,o){var i;o.$observe("bsGridCellTemplate",function(o){angular.isDefined(o)&&(i=e(o)(t),n.html(""),n.append(i))})}}}angular.module("bsgrid").directive("bsGridCellTemplate",e),e.$inject=["$compile"]}(),function(){"use strict";function e(e){e.setPrefix("bsgrid")}angular.module("bsgrid").config(e),e.$inject=["localStorageServiceProvider"]}(),function(){"use strict";function e(){function e(e,t,n,o,i,s){e.filteredItems=e.options.items,e.displayedItems=[],e.showing={begin:0,end:0,of:0},e.setUndefined=function(){angular.isUndefined(e.options.pageSizeShow)&&(e.options.pageSizeShow=!0),angular.isUndefined(e.options.pageSize)&&(e.options.pageSize=25),angular.isUndefined(e.options.pageSizeOptions)&&(e.options.pageSizeOptions=[10,25,50,100]),angular.isUndefined(e.options.localStorage)&&(e.options.localStorage=!1),angular.isUndefined(e.options.localStorageIgnorePageSize)&&(e.options.localStorageIgnorePageSize=!1),angular.isUndefined(e.options.lockTable)&&(e.options.lockTable=!0),angular.isUndefined(e.options.selectable)&&(e.options.selectable=!1),angular.isUndefined(e.options.multiSelect)&&(e.options.multiSelect=!1),angular.isUndefined(e.options.scope)&&(e.options.scope=e),e.scope=e.options.scope,angular.isUndefined(e.options.showSearch)&&(e.options.showSearch=!0),angular.isUndefined(e.options.showFooter)&&(e.options.showFooter=!0),angular.isUndefined(e.options.showExportButton)&&(e.options.showExportButton=!0),angular.isUndefined(e.options.name)&&(e.options.name=i.current.name),angular.isUndefined(e.options.scrollHorizontal)&&(e.options.scrollHorizontal=!0),_.forEach(e.options.columns,function(e){if(angular.isUndefined(e.width)&&(e.width="auto"),angular.isUndefined(e.sortable)&&(e.sortable=!0),angular.isUndefined(e.name)&&angular.isUndefined(e.field))throw"bsgrid: Name is required if no field is provided.";angular.isUndefined(e.visible)&&(e.visible=!0)})},e.localStorageName=function(){return"bsGrid-"+e.options.name},e.getLocalStorage=function(){if(e.options.localStorage){var t=s.get(e.localStorageName());if(t&&(angular.isDefined(t.pageSize)&&!e.options.localStorageIgnorePageSize&&(e.options.pageSize=t.pageSize),angular.isDefined(t.columns))){var n=!1;_.forEach(t.columns,function(t,o){var i=_.findIndex(e.options.columns,{name:t.name});if(i>=0){if(o!==i){var s=e.options.columns[i];e.options.columns[i]=e.options.columns[o],e.options.columns[o]=s}e.options.columns[o].visible=t.visible,e.options.columns[o].sorted=t.sorted,angular.isDefined(t.reverse)&&(e.options.columns[o].reverse=t.reverse),t.sorted&&(n=!0)}}),n||(e.options.columns[0].sorted=!0)}}},e.hideColumn=function(t){t.visible=!t.visible,e.setLocalStorage()},e.setLocalStorage=function(){e.options.localStorage&&s.set(e.localStorageName(),{pageSize:e.options.pageSize,columns:e.options.columns})},e.onDropComplete=function(t,n){var o=e.options.columns.indexOf(n);e.options.columns.splice(o,1),e.options.columns.splice(t,0,n),e.setLocalStorage()},e.setWatches=function(){e.$watch(function(){return e.options.pageSize},function(){e.setLocalStorage(),e.options.currentPage=1,e.getPage()},!0),e.$watch(function(){return e.options.items},function(){var t=[];_.forEach(e.options.selectedItems,function(n){var o=_(e.options.items).indexOf(n);-1===o&&t.push(n)}),_.forEach(t,function(t){var n=null,o=null;angular.isDefined(t.id)&&(n=_.where(e.options.items,{id:t.id}),1===n.length&&(o=n[0]));var i=_.indexOf(e.options.selectedItems,t);o?e.options.selectedItems.splice(i,1,o):e.options.selectedItems.splice(i)}),e.start()},!0)},e.getPage=function(){var t=(e.options.currentPage-1)*e.options.pageSize,n=t+e.options.pageSize;e.displayedItems=e.filteredItems.slice(t,n),0===e.displayedItems.length?e.showing.begin=t:e.showing.begin=t+1,e.showing.end=t+e.displayedItems.length,e.showing.of=e.filteredItems.length},e.sort=function(t,o){if(t.sortable===!0){_.forEach(e.options.columns,function(e){e!==t&&(e.sorted=!1,e.reverse=!1)}),t.sorted=!0,o&&(t.reverse=!t.reverse);var i=n("orderBy");e.filteredItems=i(e.filteredItems,t.field,t.reverse),e.getPage(),e.setLocalStorage()}},e.filter=function(){var t=n("filter");e.filteredItems=t(e.options.items,e.options.searchFilter),e.getPage()},e.selectItem=function(t){if(e.options.selectable){var n=_.indexOf(e.options.selectedItems,t);if(-1!==n)return void e.options.selectedItems.splice(n,1);e.options.multiSelect||1!==e.options.selectedItems.length||e.options.selectedItems.splice(0,1),e.options.selectedItems.push(t)}},e.selectItemCheckbox=function(t,n){t.stopPropagation(),e.selectItem(n)},e.isSelectedItem=function(t){var n=_.indexOf(e.options.selectedItems,t);return-1!==n?!0:!1},e.toggleSelectAll=function(t){t?_.forEach(e.filteredItems,function(t){e.isSelectedItem(t)||e.selectItem(t)}):_.forEach(e.filteredItems,function(t){e.isSelectedItem(t)&&e.selectItem(t)})},e.lockTable=function(){e.options.lockTable&&o(function(){var n=angular.element(t).find("div table thead tr th"),o=0;_.forEach(n,function(t){var n=angular.element(t);e.options.selectable&&0===o?o--:"auto"===e.options.columns[o].width&&angular.element(n).css("width",t.offsetWidth),o++});var i=angular.element(t).find("div table");angular.element(i).css("table-layout","fixed")},0)},e.start=function(){""!==e.options.searchFilter&&e.filter();var t=_.find(e.options.columns,"sorted");angular.isDefined(t)?e.sort(t,!1):e.getPage()},e.init=function(){e.setUndefined(),e.getLocalStorage(),e.setWatches(),e.lockTable(),e.start()},e.init(),e.exportTypes={FILTERED:0,SELECTED:1,ALL:2},e.GetRowsForExport=function(t,n,o){var i=0,s="",a=[];switch(t){case e.exportTypes.FILTERED:a=e.displayedItems;break;case e.exportTypes.SELECTED:a=e.options.selectedItems;break;case e.exportTypes.ALL:a=e.options.items}return _.each(a,function(t){_.each(n,function(n){s=angular.isDefined(t[n])?t[n]:angular.isDefined(t.search)&&angular.isDefined(t.search[n])?t.search[n]:"",o+='"'+e.csvStringify(s)+'",'}),o=e.swapLastCommaForNewline(o),i++}),o},e.csvStringify=function(e){return null===e||angular.isUndefined(e)?"":angular.isNumber(e)?""+e:e===!0||e===!1?e?"True":"False":angular.isString(e)?e.replace(/"/g,'""'):angular.toJson(e).replace(/"/g,'""')},e.swapLastCommaForNewline=function(e){var t=e.substr(0,e.length-1);return t+"\n"},e.SubmitFileToUser=function(e){var t=angular.element("<a/>");t.attr({href:"data:attachment/csv;charset=utf-8,"+encodeURI(e),target:"_blank",download:"export.csv"})[0].click()},e["export"]=function(t){var n=[],o="",i=[];_.each(e.options.columns,function(e){n.push(e.field),i.push(e.name)}),_.each(i,function(t){o+='"'+e.csvStringify(t)+'",'}),o=e.swapLastCommaForNewline(o),o=e.GetRowsForExport(t,n,o),e.SubmitFileToUser(o)}}return e.$inject=["$scope","$element","$filter","$timeout","$state","localStorageService"],{scope:{options:"="},templateUrl:"template/bsgrid.html",restrict:"E",controller:e}}angular.module("bsgrid").directive("bsGrid",e)}(),function(){"use strict";function e(e){return{restrict:"AC",link:function(t,n){e(function(){n[0].focus()},0)}}}angular.module("bsgrid").directive("bsgridAutoFocus",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e){function t(e,n){var o,i,s=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,a=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,r=/^0x[0-9a-f]+$/i,c=/^0/,p=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},d=p(e).replace(a,"")||"",u=p(n).replace(a,"")||"",g=d.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),f=u.replace(s,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),m=parseInt(d.match(r))||1!=g.length&&d.match(l)&&Date.parse(d),h=parseInt(u.match(r))||m&&u.match(l)&&Date.parse(u)||null;if(h){if(h>m)return-1;if(m>h)return 1}for(var b=0,v=Math.max(g.length,f.length);v>b;b++){if(o=!(g[b]||"").match(c)&&parseFloat(g[b])||g[b]||0,i=!(f[b]||"").match(c)&&parseFloat(f[b])||f[b]||0,isNaN(o)!==isNaN(i))return isNaN(o)?1:-1;if(typeof o!=typeof i&&(o+="",i+=""),i>o)return-1;if(o>i)return 1}return 0}return function(n,o,i){function s(e,t){for(var n=0;n<o.length;n++){var i=o[n](e,t);if(0!==i)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}if(!angular.isArray(n))return n;if(!o)return n;o=angular.isArray(o)?o:[o],o=_.map(o,function(n){var o=!1,i=n||angular.identity;if(angular.isString(n)&&(("+"==n.charAt(0)||"-"==n.charAt(0))&&(o="-"==n.charAt(0),n=n.substring(1)),i=e(n),i.constant)){var s=i();return a(function(e,n){return t(e[s],n[s])},o)}return a(function(e,n){return t(i(e),i(n))},o)});for(var l=[],r=0;r<n.length;r++)l.push(n[r]);return l.sort(a(s,i))}}angular.module("bsgrid").filter("naturalSortBy",e),e.$inject=["$parse"]}(),angular.module("bsgrid").run(["$templateCache",function(e){e.put("template/bsgrid.html",'<div class="row bs-grid-margin"><div class="col-sm-9"><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default btn-sm" uib-dropdown-toggle="">Options <span class="caret"></span></button><ul class="uib-dropdown-menu" role="menu"><li role="menuitem" ng-if="options.pageSizeShow" class="dropdown-header">Page Size</li><li role="menuitem" ng-if="options.pageSizeShow" ng-repeat="size in options.pageSizeOptions" ng-class="{\'active\': options.pageSize === size }"><a tabindex="-1" ng-click="options.pageSize = size">{{ size }}</a></li><li ng-if="options.pageSizeShow" class="divider"></li><li role="presentation" class="dropdown-header">Columns</li><li role="menuitem" ng-repeat="col in options.columns"><a ng-click="hideColumn(col)"><i ng-class="col.visible ? \'glyphicon glyphicon-ok\': \'glyphicon glyphicon-remove\'"></i> <span>{{ col.name }}</span></a></li></ul></div><div class="btn-group" ng-if="options.showExportButton" uib-dropdown="" dropdown-append-to-body=""><button class="btn btn-default btn-sm" type="button" uib-dropdown-toggle="">Export <span class="caret"></span></button><ul class="uib-dropdown-menu" role="menu"><li role="menuitem"><a ng-click="export(exportTypes.FILTERED)">Filtered</a></li><li role="menuitem"><a ng-click="export(exportTypes.ALL)">All</a></li><li role="menuitem" ng-if="options.selectedItems[0]"><a ng-click="export(exportTypes.SELECTED)">Selected</a></li></ul></div></div><div ng-if="options.showSearch" class="col-sm-3" style="margin-bottom: 10px" ng-class="{ \'col-sm-offset-9\': !options.pageSizeShow }"><div class="input-group input-group-sm"><input type="text" class="form-control" placeholder="Search" ng-model="options.searchFilter" ng-change="filter()" ng-model-options="{ debounce: { \'default\': 400, \'blur\': 0 } }" bsgrid-auto-focus=""> <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span></div></div></div><div class="row"><div class="col-md-12" ng-class="{\'table-responsive\': options.scrollHorizontal}"><table class="table table-striped table-bordered table-hover table-condensed color2"><thead><tr><th ng-if="options.multiSelect" class="bs-grid-select"><input ng-if="options.multiSelect" type="checkbox" ng-model="selectAllToggle" ng-change="toggleSelectAll(selectAllToggle)"></th><th class="bs-grid-overflow" ng-repeat="col in options.columns" ng-click="sort(col, true)" style="width: {{ col.width }};" ng-show="col.visible"><div ng-drop="true" ng-drop-success="onDropComplete($index, $data, $evt)"><div ng-drag="true" ng-drag-data="col"><span>{{ col.name || col.field }}</span> <span ng-if="col.sorted" class="order" ng-class="{\'dropup\': col.reverse }"><span class="caret"></span></span></div></div></th></tr></thead><tbody><tr ng-repeat="item in displayedItems" ng-class="{\'info\' : isSelectedItem( item ) }" ng-click="selectItem(item)"><td ng-if="options.multiSelect"><input type="checkbox" class="bg-grid-checkbox" ng-checked="isSelectedItem(item)" ng-click="selectItemCheckbox($event, item)"></td><td class="bs-grid-overflow" ng-repeat="col in options.columns" ng-show="col.visible"><div ng-if="col.template" bs-grid-cell-template="{{ col.template }}"></div><div ng-if="!col.template" class="bs-grid-column bs-grid-column-{{col.field}}">{{ item[col.field] }}</div></td></tr></tbody></table></div></div><div class="row" ng-if="options.showFooter"><div class="col-sm-4"><span ng-if="options.selectable && options.selectedItems.length != 0">Selected <strong class=\'\\"text-primary\\"\'>{{options.selectedItems.length}}</strong></span> <span ng-class="{ \'text-danger\': displayedItems.length == 0}">Showing <strong>{{showing.begin}}</strong> to <strong>{{showing.end}}</strong> of <strong class=\'\\"text-primary\\"\'>{{ showing.of}}</strong> items</span><p ng-if="options.searchFilter">(<em>Filtered down from <strong>{{options.items.length}}</strong></em>)</p></div><div class="col-sm-8"><uib-pagination class="pagination-sm pull-right bs-grid-pagination" boundary-links="true" max-size="9" items-per-page="options.pageSize" total-items="filteredItems.length" ng-model="options.currentPage" ng-change="getPage()" previous-text="Previous" next-text="Next" first-text="First" last-text="Last"></uib-pagination></div></div>')}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJzZ3JpZC5tb2R1bGUuanMiLCJic2dyaWQuY2VsbC5kaXJlY3RpdmUuanMiLCJic2dyaWQuanMiLCJic2dyaWQuY29uZmlnLmpzIiwiYnNncmlkLmRpcmVjdGl2ZS5qcyIsImJzZ3JpZC5mb2N1cy5kaXJlY3RpdmUuanMiLCJuYXR1cmFsLnNvcnQuYnkuZmlsdGVyLmpzIiwiYnNncmlkQ2FjaGVIdG1sLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJCU0dyaWRDZWxsVGVtcGxhdGUiLCIkY29tcGlsZSIsInNjb3BlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImVsIiwiJG9ic2VydmUiLCJ0cGwiLCJpc0RlZmluZWQiLCJodG1sIiwiYXBwZW5kIiwiZGlyZWN0aXZlIiwiJGluamVjdCIsImNvbmZpZyIsImxvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlciIsInNldFByZWZpeCIsIkJTR3JpZCIsIkJTR3JpZENvbnRyb2xsZXIiLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRmaWx0ZXIiLCIkdGltZW91dCIsIiRzdGF0ZSIsImxvY2FsU3RvcmFnZVNlcnZpY2UiLCJmaWx0ZXJlZEl0ZW1zIiwib3B0aW9ucyIsIml0ZW1zIiwiZGlzcGxheWVkSXRlbXMiLCJzaG93aW5nIiwiYmVnaW4iLCJlbmQiLCJvZiIsInNldFVuZGVmaW5lZCIsImlzVW5kZWZpbmVkIiwicGFnZVNpemVTaG93IiwicGFnZVNpemUiLCJwYWdlU2l6ZU9wdGlvbnMiLCJsb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VJZ25vcmVQYWdlU2l6ZSIsImxvY2tUYWJsZSIsInNlbGVjdGFibGUiLCJtdWx0aVNlbGVjdCIsInNob3dTZWFyY2giLCJzaG93Rm9vdGVyIiwic2hvd0V4cG9ydEJ1dHRvbiIsIm5hbWUiLCJjdXJyZW50Iiwic2Nyb2xsSG9yaXpvbnRhbCIsIl8iLCJmb3JFYWNoIiwiY29sdW1ucyIsImMiLCJ3aWR0aCIsInNvcnRhYmxlIiwiZmllbGQiLCJ2aXNpYmxlIiwibG9jYWxTdG9yYWdlTmFtZSIsImdldExvY2FsU3RvcmFnZSIsImRhdGEiLCJnZXQiLCJpc1NvcnRlZCIsImkiLCJpbmRleCIsImZpbmRJbmRleCIsInRtcCIsInNvcnRlZCIsInJldmVyc2UiLCJoaWRlQ29sdW1uIiwic2V0TG9jYWxTdG9yYWdlIiwic2V0Iiwib25Ecm9wQ29tcGxldGUiLCJvYmoiLCJvdGhlckluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInNldFdhdGNoZXMiLCIkd2F0Y2giLCJjdXJyZW50UGFnZSIsImdldFBhZ2UiLCJuZXdTZWxlY3RlZCIsInNlbGVjdGVkSXRlbXMiLCJpdGVtIiwicHVzaCIsIm1hdGNoZXMiLCJtYXRjaCIsImlkIiwid2hlcmUiLCJsZW5ndGgiLCJzSW5kZXgiLCJzdGFydCIsInNsaWNlIiwic29ydCIsImNvbCIsImNoYW5nZVJldmVyc2UiLCJmaWx0ZXIiLCJzZWFyY2hGaWx0ZXIiLCJzZWxlY3RJdGVtIiwic2VsZWN0SXRlbUNoZWNrYm94IiwiJGV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiaXNTZWxlY3RlZEl0ZW0iLCJ0b2dnbGVTZWxlY3RBbGwiLCJ2YWx1ZSIsInRocyIsImZpbmQiLCJ0aCIsImUiLCJjc3MiLCJvZmZzZXRXaWR0aCIsInRhYmxlIiwiaW5pdCIsImV4cG9ydFR5cGVzIiwiRklMVEVSRUQiLCJTRUxFQ1RFRCIsIkFMTCIsIkdldFJvd3NGb3JFeHBvcnQiLCJleHBvcnRUeXBlIiwiZmllbGROYW1lcyIsImNzdkRhdGEiLCJpdGVtSW5kZXgiLCJjdXJDZWxsUmF3IiwiaXRlbXNUb0V4cG9ydCIsImVhY2giLCJpdGVtVG9FeHBvcnQiLCJmaWVsZE5hbWUiLCJzZWFyY2giLCJjc3ZTdHJpbmdpZnkiLCJzd2FwTGFzdENvbW1hRm9yTmV3bGluZSIsInN0ciIsImlzTnVtYmVyIiwiaXNTdHJpbmciLCJyZXBsYWNlIiwidG9Kc29uIiwibmV3U3RyIiwic3Vic3RyIiwiU3VibWl0RmlsZVRvVXNlciIsImF0dHIiLCJocmVmIiwiZW5jb2RlVVJJIiwidGFyZ2V0IiwiZG93bmxvYWQiLCJjbGljayIsInJlcXVlc3RzIiwidiIsInRlbXBsYXRlVXJsIiwicmVzdHJpY3QiLCJjb250cm9sbGVyIiwiQlNHcmlkQXV0b0ZvY3VzIiwiX3Njb3BlIiwiX2VsZW1lbnQiLCJmb2N1cyIsIk5hdHVyYWxTb3J0QnkiLCIkcGFyc2UiLCJuYXR1cmFsU29ydCIsImEiLCJiIiwib0Z4TmNMIiwib0Z5TmNMIiwicmUiLCJzcmUiLCJkcmUiLCJocmUiLCJvcmUiLCJzIiwiaW5zZW5zaXRpdmUiLCJ0b0xvd2VyQ2FzZSIsIngiLCJ5IiwieE4iLCJzcGxpdCIsInlOIiwieEQiLCJwYXJzZUludCIsIkRhdGUiLCJwYXJzZSIsInlEIiwiY0xvYyIsIm51bVMiLCJNYXRoIiwibWF4IiwicGFyc2VGbG9hdCIsImlzTmFOIiwiYXJyYXkiLCJzb3J0UHJlZGljYXRlIiwicmV2ZXJzZU9yZGVyIiwiY29tcGFyYXRvciIsIm8xIiwibzIiLCJjb21wIiwicmV2ZXJzZUNvbXBhcmF0b3IiLCJkZXNjZW5kaW5nIiwiaXNBcnJheSIsIm1hcCIsInByZWRpY2F0ZSIsImlkZW50aXR5IiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiY29uc3RhbnQiLCJrZXkiLCJhcnJheUNvcHkiLCJydW4iLCIkdGVtcGxhdGVDYWNoZSIsInB1dCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUVBQSxTQUNBQyxPQUFBLFVBQ0EsZUFDQSxZQUNBLFlBQ0EsMEJDUkEsV0FDQSxZQU9BLFNBQUFDLEdBQUFDLEdBR0EsT0FDQUMsT0FBQSxFQUNBQyxLQUFBLFNBQUFELEVBQUFFLEVBQUFDLEdBQ0EsR0FBQUMsRUFFQUQsR0FBQUUsU0FBQSxxQkFBQSxTQUFBQyxHQUNBVixRQUFBVyxVQUFBRCxLQUVBRixFQUFBTCxFQUFBTyxHQUFBTixHQUdBRSxFQUFBTSxLQUFBLElBR0FOLEVBQUFPLE9BQUFMLFFBdEJBUixRQUNBQyxPQUFBLFVBQ0FhLFVBQUEscUJBQUFaLEdDc0NFQSxFQUFtQmEsU0FBVyxlQzNDaEMsV0FD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SUFFQWtDLEVBM0NBLElBQUEvTCxRQUFBa00sUUFBQVQsR0FBQSxNQUFBQSxFQUNBLEtBQUFDLEVBQUEsTUFBQUQsRUFDQUMsR0FBQTFMLFFBQUFrTSxRQUFBUixHQUFBQSxHQUFBQSxHQUNBQSxFQUFBdkksRUFBQWdKLElBQUFULEVBQUEsU0FBQVUsR0FDQSxHQUFBSCxJQUFBLEVBQ0FuSSxFQUFBc0ksR0FBQXBNLFFBQUFxTSxRQUNBLElBQUFyTSxRQUFBcUksU0FBQStELE1BQ0EsS0FBQUEsRUFBQUUsT0FBQSxJQUFBLEtBQUFGLEVBQUFFLE9BQUEsTUFDQUwsRUFBQSxLQUFBRyxFQUFBRSxPQUFBLEdBQ0FGLEVBQUFBLEVBQUFHLFVBQUEsSUFFQXpJLEVBQUE2RixFQUFBeUMsR0FDQXRJLEVBQUEwSSxVQUFBLENBQ0EsR0FBQUMsR0FBQTNJLEdBQ0EsT0FBQWtJLEdBQUEsU0FBQW5DLEVBQUFDLEdBQ0EsTUFBQUYsR0FBQUMsRUFBQTRDLEdBQUEzQyxFQUFBMkMsS0FDQVIsR0FHQSxNQUFBRCxHQUFBLFNBQUFuQyxFQUFBQyxHQUNBLE1BQUFGLEdBQUE5RixFQUFBK0YsR0FBQS9GLEVBQUFnRyxLQUNBbUMsSUFJQSxLQUFBLEdBREFTLE1BQ0ExSSxFQUFBLEVBQUFBLEVBQUF5SCxFQUFBL0YsT0FBQTFCLElBQ0EwSSxFQUFBckgsS0FBQW9HLEVBQUF6SCxHQUVBLE9BQUEwSSxHQUFBNUcsS0FBQWtHLEVBQUFKLEVBQUFELEtBOUVBM0wsUUFDQUMsT0FBQSxVQUNBZ0csT0FBQSxnQkFBQXlELEdKa3JCRUEsRUFBYzNJLFNBQVcsYUsxckIzQmYsUUFBQUMsT0FBQSxVQUFBME0sS0FBQSxpQkFBQSxTQUFBQyxHQUFBQSxFQUFBQyxJQUFBLHVCQUFBIiwiZmlsZSI6ImJzZ3JpZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdic2dyaWQnLCBbXHJcbiAgICAgICd1aS5ib290c3RyYXAnLFxyXG4gICAgICAnbmdBbmltYXRlJyxcclxuICAgICAgJ3VpLnJvdXRlcicsXHJcbiAgICAgICdMb2NhbFN0b3JhZ2VNb2R1bGUnXHJcbiAgICBdKTtcclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2JzZ3JpZCcpXHJcbiAgICAuZGlyZWN0aXZlKCdic0dyaWRDZWxsVGVtcGxhdGUnLCBCU0dyaWRDZWxsVGVtcGxhdGUpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gQlNHcmlkQ2VsbFRlbXBsYXRlKCRjb21waWxlKSB7XHJcblxyXG4gICAgLy8gc291cmNlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNDg0NjgzNi9pbnNlcnQtYW4tYW5ndWxhci1qcy10ZW1wbGF0ZS1zdHJpbmctaW5zaWRlLWFuLWVsZW1lbnRcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNjb3BlOiB0cnVlLFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgdmFyIGVsO1xyXG5cclxuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnYnNHcmlkQ2VsbFRlbXBsYXRlJywgZnVuY3Rpb24gKHRwbCkge1xyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRwbCkpIHtcclxuICAgICAgICAgICAgLy8gY29tcGlsZSB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgYWdhaW5zdCB0aGUgY3VycmVudCBzY29wZVxyXG4gICAgICAgICAgICBlbCA9ICRjb21waWxlKHRwbCkoc2NvcGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gc3R1cGlkIHdheSBvZiBlbXB0eWluZyB0aGUgZWxlbWVudFxyXG4gICAgICAgICAgICBlbGVtZW50Lmh0bWwoJycpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIHRoZSB0ZW1wbGF0ZSBjb250ZW50XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGVsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLG51bGwsIihmdW5jdGlvbiAoKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdic2dyaWQnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gY29uZmlnKGxvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlcikge1xyXG5cclxuICAgIC8vU2V0IGxvY2FsIHN0b3JhZ2VcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlci5zZXRQcmVmaXgoJ2JzZ3JpZCcpO1xyXG5cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2JzZ3JpZCcpXHJcbiAgICAuZGlyZWN0aXZlKCdic0dyaWQnLCBCU0dyaWQpO1xyXG5cclxuICAvKiogQG5nSW5qZWN0ICovXHJcbiAgZnVuY3Rpb24gQlNHcmlkKCkge1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgb3B0aW9uczogJz0nXHJcbiAgICAgIH0sXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvYnNncmlkLmh0bWwnLFxyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICBjb250cm9sbGVyOiAgQlNHcmlkQ29udHJvbGxlclxyXG4gICAgfTtcclxuXHJcbiAgICAvKiogQG5nSW5qZWN0ICovXHJcbiAgICBmdW5jdGlvbiBCU0dyaWRDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICRmaWx0ZXIsICR0aW1lb3V0LCAkc3RhdGUsIGxvY2FsU3RvcmFnZVNlcnZpY2UpIHtcclxuXHJcbiAgICAgICRzY29wZS5maWx0ZXJlZEl0ZW1zID0gJHNjb3BlLm9wdGlvbnMuaXRlbXM7XHJcbiAgICAgICRzY29wZS5kaXNwbGF5ZWRJdGVtcyA9IFtdO1xyXG5cclxuICAgICAgJHNjb3BlLnNob3dpbmcgPSB7XHJcbiAgICAgICAgYmVnaW46IDAsXHJcbiAgICAgICAgZW5kOiAwLFxyXG4gICAgICAgIG9mOiAwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvL3NldCB2YWx1ZXMgaWYgbm90IGRlZmluZWRcclxuICAgICAgJHNjb3BlLnNldFVuZGVmaW5lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5wYWdlU2l6ZVNob3cpKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5wYWdlU2l6ZVNob3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5wYWdlU2l6ZSkpIHtcclxuICAgICAgICAgICRzY29wZS5vcHRpb25zLnBhZ2VTaXplID0gMjU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnBhZ2VTaXplT3B0aW9ucykpIHtcclxuICAgICAgICAgICRzY29wZS5vcHRpb25zLnBhZ2VTaXplT3B0aW9ucyA9IFsxMCwgMjUsIDUwLCAxMDBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2UpKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2UgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLm9wdGlvbnMubG9jYWxTdG9yYWdlSWdub3JlUGFnZVNpemUpKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2VJZ25vcmVQYWdlU2l6ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5sb2NrVGFibGUpKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5sb2NrVGFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5zZWxlY3RhYmxlKSkge1xyXG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5tdWx0aVNlbGVjdCkpIHtcclxuICAgICAgICAgICRzY29wZS5vcHRpb25zLm11bHRpU2VsZWN0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnNjb3BlKSkge1xyXG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5zY29wZSA9ICRzY29wZS5vcHRpb25zLnNjb3BlO1xyXG5cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5zaG93U2VhcmNoKSkge1xyXG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2hvd1NlYXJjaCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnNob3dGb290ZXIpKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5zaG93Rm9vdGVyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLm9wdGlvbnMuc2hvd0V4cG9ydEJ1dHRvbikpIHtcclxuICAgICAgICAgICRzY29wZS5vcHRpb25zLnNob3dFeHBvcnRCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUub3B0aW9ucy5uYW1lKSkge1xyXG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMubmFtZSA9ICRzdGF0ZS5jdXJyZW50Lm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5vcHRpb25zLnNjcm9sbEhvcml6b250YWwpKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5zY3JvbGxIb3Jpem9udGFsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5vcHRpb25zLmNvbHVtbnMsIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChjLndpZHRoKSkge1xyXG4gICAgICAgICAgICBjLndpZHRoID0gJ2F1dG8nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoYy5zb3J0YWJsZSkpIHtcclxuICAgICAgICAgICAgYy5zb3J0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChjLm5hbWUpICYmIGFuZ3VsYXIuaXNVbmRlZmluZWQoYy5maWVsZCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgJ2JzZ3JpZDogTmFtZSBpcyByZXF1aXJlZCBpZiBubyBmaWVsZCBpcyBwcm92aWRlZC4nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoYy52aXNpYmxlKSkge1xyXG4gICAgICAgICAgICBjLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgJHNjb3BlLmxvY2FsU3RvcmFnZU5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICdic0dyaWQtJyArICRzY29wZS5vcHRpb25zLm5hbWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvL0NoZWNrIGxvY2FsIHN0b3JhZ2UgZm9yIHNhdmVkIHNldHRpbmdzXHJcbiAgICAgICRzY29wZS5nZXRMb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCEkc2NvcGUub3B0aW9ucy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBkYXRhID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJHNjb3BlLmxvY2FsU3RvcmFnZU5hbWUoKSk7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLnBhZ2VTaXplKSAmJiAhJHNjb3BlLm9wdGlvbnMubG9jYWxTdG9yYWdlSWdub3JlUGFnZVNpemUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMucGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEuY29sdW1ucykpIHtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgdGFrZSBhbGwgaW5mbywgd2UganVzdCB3YW50IHRoZSB2aXNhYmxlIGNvbHVtbnMsIG9yZGVyLCByZXZlcnNlLCBhbmQgd2hpY2ggaXMgc29ydGVkIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgICAgIHZhciBpc1NvcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBfLmZvckVhY2goZGF0YS5jb2x1bW5zLCBmdW5jdGlvbiAoYywgaSkge1xyXG4gICAgICAgICAgICAgIHZhciBpbmRleCA9IF8uZmluZEluZGV4KCRzY29wZS5vcHRpb25zLmNvbHVtbnMsIHtuYW1lOiBjLm5hbWV9KTtcclxuICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSAkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMuY29sdW1uc1tpbmRleF0gPSAkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2ldID0gdG1wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMuY29sdW1uc1tpXS52aXNpYmxlID0gYy52aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMuY29sdW1uc1tpXS5zb3J0ZWQgPSBjLnNvcnRlZDtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjLnJldmVyc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnNbaV0ucmV2ZXJzZSA9IGMucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjLnNvcnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICBpc1NvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2lmIG5vdGhpbmcgaXMgc29ydGVkLCBzb3J0IHRoZSBmaXJzdCBjb2x1bW5cclxuICAgICAgICAgICAgaWYgKCFpc1NvcnRlZCkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnNbMF0uc29ydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5oaWRlQ29sdW1uID0gZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICBjLnZpc2libGUgPSAhYy52aXNpYmxlO1xyXG4gICAgICAgICRzY29wZS5zZXRMb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vc2F2ZXMgc2V0dGluZ3MgdG8gbG9jYWwgc3RvcmFnZVxyXG4gICAgICAkc2NvcGUuc2V0TG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghJHNjb3BlLm9wdGlvbnMubG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgkc2NvcGUubG9jYWxTdG9yYWdlTmFtZSgpLCB7XHJcbiAgICAgICAgICBwYWdlU2l6ZTogJHNjb3BlLm9wdGlvbnMucGFnZVNpemUsXHJcbiAgICAgICAgICBjb2x1bW5zOiAkc2NvcGUub3B0aW9ucy5jb2x1bW5zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAkc2NvcGUub25Ecm9wQ29tcGxldGUgPSBmdW5jdGlvbiAoaW5kZXgsIG9iaikge1xyXG4gICAgICAgIC8vb2JqIGlzIHRoZSBjb2x1bW4gdGhhdCB3YXMgbW92ZWQsIGluZGV4IGlzIHRoZSBjb2x1bW4gaW5kZXggdGhhdCBvYmogd2FzIGRyb3BwZWQgb250by5cclxuICAgICAgICB2YXIgb3RoZXJJbmRleCA9ICRzY29wZS5vcHRpb25zLmNvbHVtbnMuaW5kZXhPZihvYmopO1xyXG4gICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnMuc3BsaWNlKG90aGVySW5kZXgsIDEpO1xyXG4gICAgICAgICRzY29wZS5vcHRpb25zLmNvbHVtbnMuc3BsaWNlKGluZGV4LCAwLCBvYmopO1xyXG4gICAgICAgICRzY29wZS5zZXRMb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5zZXRXYXRjaGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vd2F0Y2ggcGFnZVNpemVcclxuICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiAkc2NvcGUub3B0aW9ucy5wYWdlU2l6ZTtcclxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2V0TG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgICAkc2NvcGUuZ2V0UGFnZSgpO1xyXG4gICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICAvL3dhdGNoIGl0ZW1zXHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gJHNjb3BlLm9wdGlvbnMuaXRlbXM7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgLy9jaGVjayB0aGF0IG5vIGl0ZW1zIGluIHNlbGVjdGVkIGhhdmUgYmVlbiByZW1vdmVkXHJcbiAgICAgICAgICB2YXIgbmV3U2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBfKCRzY29wZS5vcHRpb25zLml0ZW1zKS5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgICAgICAvL2lmIHRoZSBjdXJyZW50IHNlbGVjdGVkIGl0ZW0gaXMgTk9UIGluIHRoZSBtYXN0ZXIgaXRlbXMgbGlzdCwgc2F2ZSBpdC5cclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgIC8vc2F2ZSB0aGUgaXRlbSBzbyBpdCBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzZWxlY3RlZEl0ZW1zIGxpc3RcclxuICAgICAgICAgICAgICBuZXdTZWxlY3RlZC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vUmVtb3ZlIGVhY2ggc2F2ZWQgaXRlbSBmcm9tIHRoZSBzZWxlY3RlZCBJdGVtcyBsaXN0IHVubGVzcyB0aGVyZSBpcyBhbiBpdGVtIHdpdGggdGhlIHNhbWUgaWRcclxuICAgICAgICAgIF8uZm9yRWFjaChuZXdTZWxlY3RlZCwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG1hdGNoID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGFuIGl0ZW0gd2l0aCB0aGUgc2FtZSBpZCwgaWYgdGhlcmUgaXMgYWRkIGl0IHRvIHNlbGVjdGVkIGl0ZW1zLFxyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyBpdCB3YXMganVzdCB1cGRhdGVkIGFuZCB3ZSBzdGlsbCB3YW50IGl0IHNlbGVjdGVkXHJcblxyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXRlbS5pZCkpIHtcclxuICAgICAgICAgICAgICBtYXRjaGVzID0gXy53aGVyZSgkc2NvcGUub3B0aW9ucy5pdGVtcywgeydpZCc6IGl0ZW0uaWR9KTtcclxuICAgICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoID0gbWF0Y2hlc1swXTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNJbmRleCA9IF8uaW5kZXhPZigkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zLCBpdGVtKTtcclxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0ZWRJdGVtcy5zcGxpY2Uoc0luZGV4LCAxLCBtYXRjaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0ZWRJdGVtcy5zcGxpY2Uoc0luZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgJHNjb3BlLnN0YXJ0KCk7XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvL1VwZGF0ZXMgdGhlIGN1cnJlbnQgZGlzcGxheWVkIGl0ZW1zIGFuZCBzaG93aW5nIGluZm9cclxuICAgICAgJHNjb3BlLmdldFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGJlZ2luID0gKCgkc2NvcGUub3B0aW9ucy5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLm9wdGlvbnMucGFnZVNpemUpO1xyXG4gICAgICAgIHZhciBlbmQgPSBiZWdpbiArICRzY29wZS5vcHRpb25zLnBhZ2VTaXplO1xyXG4gICAgICAgICRzY29wZS5kaXNwbGF5ZWRJdGVtcyA9ICRzY29wZS5maWx0ZXJlZEl0ZW1zLnNsaWNlKGJlZ2luLCBlbmQpO1xyXG5cclxuICAgICAgICAvL3VwZGF0ZSBzaG93aW5nIGluZm9cclxuICAgICAgICBpZiAoJHNjb3BlLmRpc3BsYXllZEl0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgJHNjb3BlLnNob3dpbmcuYmVnaW4gPSBiZWdpbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvd2luZy5iZWdpbiA9IGJlZ2luICsgMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5zaG93aW5nLmVuZCA9IGJlZ2luICsgJHNjb3BlLmRpc3BsYXllZEl0ZW1zLmxlbmd0aDtcclxuICAgICAgICAkc2NvcGUuc2hvd2luZy5vZiA9ICRzY29wZS5maWx0ZXJlZEl0ZW1zLmxlbmd0aDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vc29ydCBhbGwgdGhlIGl0ZW1zIGJ5IGEgY29sdW1uXHJcbiAgICAgICRzY29wZS5zb3J0ID0gZnVuY3Rpb24gKGNvbCwgY2hhbmdlUmV2ZXJzZSkge1xyXG4gICAgICAgIC8vZXhpdCBpZiB3ZSBjYW50IHNvcnQgdGhpcyBjb2x1bW5cclxuICAgICAgICBpZiAoY29sLnNvcnRhYmxlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3Vuc29ydCB0aGUgcmVzdFxyXG4gICAgICAgIF8uZm9yRWFjaCgkc2NvcGUub3B0aW9ucy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgaWYgKGMgIT09IGNvbCkge1xyXG4gICAgICAgICAgICBjLnNvcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjLnJldmVyc2UgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9pZiBpdCB3YXMgYWxyZWFkeSBzb3J0ZWQgYW5kIHJldmVyc2Ugd2FzIG5vdCBzZXQsIHJldmVyc2UgaXRcclxuICAgICAgICBjb2wuc29ydGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoY2hhbmdlUmV2ZXJzZSkge1xyXG4gICAgICAgICAgY29sLnJldmVyc2UgPSAhY29sLnJldmVyc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZmlsdGVyID0gJGZpbHRlcignb3JkZXJCeScpO1xyXG4gICAgICAgICRzY29wZS5maWx0ZXJlZEl0ZW1zID0gZmlsdGVyKCRzY29wZS5maWx0ZXJlZEl0ZW1zLCBjb2wuZmllbGQsIGNvbC5yZXZlcnNlKTtcclxuICAgICAgICAkc2NvcGUuZ2V0UGFnZSgpO1xyXG5cclxuICAgICAgICAkc2NvcGUuc2V0TG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvL2ZpbHRlciB0aGUgaXRlbXMgYmFzZWQgb24gdGhlIHNlYXJjaCBmaWx0ZXJcclxuICAgICAgJHNjb3BlLmZpbHRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsdGVyID0gJGZpbHRlcignZmlsdGVyJyk7XHJcbiAgICAgICAgJHNjb3BlLmZpbHRlcmVkSXRlbXMgPSBmaWx0ZXIoJHNjb3BlLm9wdGlvbnMuaXRlbXMsICRzY29wZS5vcHRpb25zLnNlYXJjaEZpbHRlcik7XHJcbiAgICAgICAgJHNjb3BlLmdldFBhZ2UoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuXHJcbiAgICAgICAgaWYgKCEkc2NvcGUub3B0aW9ucy5zZWxlY3RhYmxlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaW5kZXggPSBfLmluZGV4T2YoJHNjb3BlLm9wdGlvbnMuc2VsZWN0ZWRJdGVtcywgaXRlbSk7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0ZWRJdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISRzY29wZS5vcHRpb25zLm11bHRpU2VsZWN0ICYmICRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zLnNwbGljZSgwLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0ZWRJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy9zdG9wcyB0aGUgY2xpY2sgZnJvbSBnb2luZyB0byB0aGUgcm93IGFuZCBzd2l0Y2hpbmcgaXQgYSBzZWNvbmQgdGltZVxyXG4gICAgICAkc2NvcGUuc2VsZWN0SXRlbUNoZWNrYm94ID0gZnVuY3Rpb24gKCRldmVudCwgaXRlbSkge1xyXG4gICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbShpdGVtKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5pc1NlbGVjdGVkSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcblxyXG4gICAgICAgIHZhciBpbmRleCA9IF8uaW5kZXhPZigkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zLCBpdGVtKTtcclxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgJHNjb3BlLnRvZ2dsZVNlbGVjdEFsbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5maWx0ZXJlZEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoISRzY29wZS5pc1NlbGVjdGVkSXRlbShpdGVtKSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RJdGVtKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLmZpbHRlcmVkSXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuaXNTZWxlY3RlZEl0ZW0oaXRlbSkpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbShpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy9sb2NrcyB0aGUgdGFibGUsIGdvdCB0aGUgaWRlYSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90dXJuL2FuZ3VsYXItbG9jay1jb2x1bW4td2lkdGhzXHJcbiAgICAgIC8vZml4cyBhIHByb2JsZW0gd2hlcmUgYXV0byBzaXplIGNoYW5nZXMgZnJvbSBwYWdlIHRvIHBhZ2VcclxuICAgICAgJHNjb3BlLmxvY2tUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoISRzY29wZS5vcHRpb25zLmxvY2tUYWJsZSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy93YWl0IGZvciBkb20gdG8gcmVuZGVyIHNvIHdlIGNhbiBmaW5kIHRoZSB0aHNcclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgdGhzID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50KS5maW5kKCdkaXYgdGFibGUgdGhlYWQgdHIgdGgnKTtcclxuXHJcbiAgICAgICAgICAvLyBnb2luZyB0byBhc3N1bWUgZWFjaCBlbGVtZW50IGlzIGluIHRoZSBzYW1lIG9yZGVyIGFzIGNvbHVtZXMsIGlmIHRoZXkgYXJlIHNldCB0byBhdXRvLCB3ZSBhcmVcclxuICAgICAgICAgIC8vIGdvaW5nIHRvIGhhcmQgY29kZSB0aGVyZSB3aWR0aFxyXG4gICAgICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgICAgIF8uZm9yRWFjaCh0aHMsIGZ1bmN0aW9uICh0aCkge1xyXG4gICAgICAgICAgICB2YXIgZSA9IGFuZ3VsYXIuZWxlbWVudCh0aCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLm9wdGlvbnMuc2VsZWN0YWJsZSAmJiBpID09PSAwKSB7IC8vc2tpcCB0aGUgZmlyc3QgdGgsIGFuZCByZXNldCBpO1xyXG4gICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgkc2NvcGUub3B0aW9ucy5jb2x1bW5zW2ldLndpZHRoID09PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZSkuY3NzKCd3aWR0aCcsIHRoLm9mZnNldFdpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvL25vdyBsb2NrIHRoZSB0YWJsZSBzbyBpdCBkb2Vzbid0IGNoYW5nZVxyXG4gICAgICAgICAgdmFyIHRhYmxlID0gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50KS5maW5kKCdkaXYgdGFibGUnKTtcclxuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCh0YWJsZSkuY3NzKCd0YWJsZS1sYXlvdXQnLCAnZml4ZWQnKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vZXZlcnl0aGluZyBpcyBzZXR1cCwgZmlsbGVyIGFuZCBzb3J0XHJcbiAgICAgICRzY29wZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgaWYgKCRzY29wZS5vcHRpb25zLnNlYXJjaEZpbHRlciAhPT0gJycpIHtcclxuICAgICAgICAgICRzY29wZS5maWx0ZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBjb2wgPSBfLmZpbmQoJHNjb3BlLm9wdGlvbnMuY29sdW1ucywgJ3NvcnRlZCcpO1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjb2wpKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc29ydChjb2wsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuZ2V0UGFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzY29wZS5zZXRVbmRlZmluZWQoKTtcclxuICAgICAgICAkc2NvcGUuZ2V0TG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgJHNjb3BlLnNldFdhdGNoZXMoKTtcclxuICAgICAgICAkc2NvcGUubG9ja1RhYmxlKCk7XHJcblxyXG4gICAgICAgICRzY29wZS5zdGFydCgpO1xyXG4gICAgICB9O1xyXG4gICAgICAkc2NvcGUuaW5pdCgpO1xyXG5cclxuICAgICAgLy8gKioqKioqKiBFeHBvcnQ6ICoqKioqKipcclxuXHJcbiAgICAgICRzY29wZS5leHBvcnRUeXBlcyA9IHtcclxuICAgICAgICBGSUxURVJFRDogMCxcclxuICAgICAgICBTRUxFQ1RFRDogMSxcclxuICAgICAgICBBTEw6IDJcclxuICAgICAgfTtcclxuXHJcblxyXG4gICAgICAkc2NvcGUuR2V0Um93c0ZvckV4cG9ydCA9IGZ1bmN0aW9uIChleHBvcnRUeXBlLCBmaWVsZE5hbWVzLCBjc3ZEYXRhKSB7XHJcblxyXG4gICAgICAgIHZhciBpdGVtSW5kZXggPSAwO1xyXG4gICAgICAgIHZhciBjdXJDZWxsUmF3ID0gJyc7XHJcbiAgICAgICAgdmFyIGl0ZW1zVG9FeHBvcnQgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gV2hhdCBpdGVtcyB3ZSBhcmUgaW1wb3J0aW5nP1xyXG4gICAgICAgIHN3aXRjaCAoZXhwb3J0VHlwZSkge1xyXG4gICAgICAgICAgY2FzZSAkc2NvcGUuZXhwb3J0VHlwZXMuRklMVEVSRUQ6XHJcbiAgICAgICAgICAgIGl0ZW1zVG9FeHBvcnQgPSAkc2NvcGUuZGlzcGxheWVkSXRlbXM7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAkc2NvcGUuZXhwb3J0VHlwZXMuU0VMRUNURUQ6XHJcbiAgICAgICAgICAgIGl0ZW1zVG9FeHBvcnQgPSAkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1zO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJHNjb3BlLmV4cG9ydFR5cGVzLkFMTDpcclxuICAgICAgICAgICAgaXRlbXNUb0V4cG9ydCA9ICRzY29wZS5vcHRpb25zLml0ZW1zO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdvIHRocm91Z2ggZXZlcnkgaXRlbVxyXG4gICAgICAgIF8uZWFjaChpdGVtc1RvRXhwb3J0LCBmdW5jdGlvbiAoaXRlbVRvRXhwb3J0KSB7XHJcblxyXG4gICAgICAgICAgLy8gR28gdGhyb3VnaCBmaWVsZHNcclxuICAgICAgICAgIF8uZWFjaChmaWVsZE5hbWVzLCBmdW5jdGlvbiAoZmllbGROYW1lKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBJcyBmaWVsZCBuYW1lIGRlZmluZWQ/XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpdGVtVG9FeHBvcnRbZmllbGROYW1lXSkpIHtcclxuICAgICAgICAgICAgICBjdXJDZWxsUmF3ID0gaXRlbVRvRXhwb3J0W2ZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXRlbVRvRXhwb3J0LnNlYXJjaCkgJiYgYW5ndWxhci5pc0RlZmluZWQoaXRlbVRvRXhwb3J0LnNlYXJjaFtmaWVsZE5hbWVdKSkge1xyXG4gICAgICAgICAgICAgIC8vIFllcywgc28gZ2V0IHRoZSBjZWxsIHZhbHVlXHJcbiAgICAgICAgICAgICAgY3VyQ2VsbFJhdyA9IGl0ZW1Ub0V4cG9ydC5zZWFyY2hbZmllbGROYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyBUT0RPOiBTaG91bGRuJ3QgcmVhY2ggdGhpcywgdGhpcyBoYXBwZW5zIHdoZW4gYSBtb2RlbCBkaXJlY3RpdmUgaXNuJ3QgbG9hZGVkIGR1ZSB0byBwYWdpbmdcclxuICAgICAgICAgICAgICBjdXJDZWxsUmF3ID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNzdkRhdGEgKz0gJ1wiJyArICRzY29wZS5jc3ZTdHJpbmdpZnkoY3VyQ2VsbFJhdykgKyAnXCIsJzsgICAvLyBDcmVhdGVzIGEgbmV3IHJvdyBpbiBDU1ZcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGNzdkRhdGEgPSAkc2NvcGUuc3dhcExhc3RDb21tYUZvck5ld2xpbmUoY3N2RGF0YSk7XHJcbiAgICAgICAgICBpdGVtSW5kZXgrKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNzdkRhdGE7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBDbGVhbiB1cCB0aGUgc3RyaW5nLlxyXG4gICAgICAkc2NvcGUuY3N2U3RyaW5naWZ5ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIGlmIChzdHIgPT09IG51bGwgfHwgYW5ndWxhci5pc1VuZGVmaW5lZChzdHIpKSB7XHJcbiAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHN0cikpIHtcclxuICAgICAgICAgIHJldHVybiAnJyArIHN0cjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0ciA9PT0gdHJ1ZSB8fCBzdHIgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICByZXR1cm4gKHN0ciA/ICdUcnVlJyA6ICdGYWxzZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhzdHIpKSB7XHJcbiAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1wiL2csICdcIlwiJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYW5ndWxhci50b0pzb24oc3RyKS5yZXBsYWNlKC9cIi9nLCAnXCJcIicpO1xyXG4gICAgICB9O1xyXG5cclxuXHJcbiAgICAgIC8vIERlbGV0ZSBsYXN0IGNvbW1hIGZyb20gQ1NWIHN0cmluZy5cclxuICAgICAgJHNjb3BlLnN3YXBMYXN0Q29tbWFGb3JOZXdsaW5lID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIHZhciBuZXdTdHIgPSBzdHIuc3Vic3RyKDAsIHN0ci5sZW5ndGggLSAxKTtcclxuICAgICAgICByZXR1cm4gbmV3U3RyICsgJ1xcbic7XHJcbiAgICAgIH07XHJcblxyXG5cclxuICAgICAgLy8gQ3JlYXRlIGEgZG93bmxvYWRhYmxlIGxpbmsgYW5kIGNsaWNrIGl0LlxyXG4gICAgICAkc2NvcGUuU3VibWl0RmlsZVRvVXNlciA9IGZ1bmN0aW9uIChjc3ZEYXRhKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxhLz4nKTtcclxuICAgICAgICBlbGVtZW50LmF0dHIoe1xyXG4gICAgICAgICAgaHJlZjogJ2RhdGE6YXR0YWNobWVudC9jc3Y7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJKGNzdkRhdGEpLFxyXG4gICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJyxcclxuICAgICAgICAgIGRvd25sb2FkOiAnZXhwb3J0LmNzdidcclxuICAgICAgICB9KVswXS5jbGljaygpO1xyXG4gICAgICB9O1xyXG5cclxuXHJcbiAgICAgICRzY29wZS5leHBvcnQgPSBmdW5jdGlvbiAoZXhwb3J0VHlwZSkge1xyXG4gICAgICAgIHZhciBmaWVsZE5hbWVzID0gW107XHJcbiAgICAgICAgdmFyIGNzdkRhdGEgPSAnJztcclxuICAgICAgICB2YXIgcmVxdWVzdHMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gR2V0IGNvbHVtbiBuYW1lcyBmb3IgZGlzcGxheWluZyBpbiBhIHJlcG9ydCBhbmQgbmFtZXMgb2YgYWxsIGZpZWxkc1xyXG4gICAgICAgIF8uZWFjaCgkc2NvcGUub3B0aW9ucy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgZmllbGROYW1lcy5wdXNoKGMuZmllbGQpO1xyXG4gICAgICAgICAgcmVxdWVzdHMucHVzaChjLm5hbWUpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgaGVhZGVyIGZvciBDU1YgRXhwb3J0XHJcbiAgICAgICAgXy5lYWNoKHJlcXVlc3RzLCBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgY3N2RGF0YSArPSAnXCInICsgJHNjb3BlLmNzdlN0cmluZ2lmeSh2KSArICdcIiwnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjc3ZEYXRhID0gJHNjb3BlLnN3YXBMYXN0Q29tbWFGb3JOZXdsaW5lKGNzdkRhdGEpO1xyXG4gICAgICAgIGNzdkRhdGEgPSAkc2NvcGUuR2V0Um93c0ZvckV4cG9ydChleHBvcnRUeXBlLCBmaWVsZE5hbWVzLCBjc3ZEYXRhKTtcclxuXHJcbiAgICAgICAgLy8gU2VuZCBpdCB0byB1c2VyXHJcbiAgICAgICAgJHNjb3BlLlN1Ym1pdEZpbGVUb1VzZXIoY3N2RGF0YSk7XHJcblxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdic2dyaWQnKVxuICAgIC5kaXJlY3RpdmUoJ2JzZ3JpZEF1dG9Gb2N1cycsIEJTR3JpZEF1dG9Gb2N1cyk7XG5cbiAgIGZ1bmN0aW9uIEJTR3JpZEF1dG9Gb2N1cygkdGltZW91dCkge1xuICAgICByZXR1cm4ge1xuICAgICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgICAgIGxpbms6IGZ1bmN0aW9uIChfc2NvcGUsIF9lbGVtZW50KSB7XG4gICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgIF9lbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgICB9LCAwKTtcbiAgICAgICB9XG4gICAgIH1cbiAgIH1cblxuXG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbi8vIEZvdW5kIHJlZmVyZW5jZSBmb3Igc29ydCBhdCBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE3MTU1ODU2L2FuZ3VsYXJqcy1uZy1yZXBlYXQtb3JkZXJieS1vcmRlcnMtbnVtYmVycy1pbmNvcnJlY3RseVxyXG4vLyB1c2VkIG9yZGVyQnkgc291cmNlIGZvciBleGFtcGxlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvYmxvYi9tYXN0ZXIvc3JjL25nL2ZpbHRlci9vcmRlckJ5LmpzI0wzXHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2JzZ3JpZCcpXHJcbiAgICAuZmlsdGVyKCduYXR1cmFsU29ydEJ5JywgTmF0dXJhbFNvcnRCeSk7XHJcblxyXG4gIC8qKiBAbmdJbmplY3QgKi9cclxuICBmdW5jdGlvbiBOYXR1cmFsU29ydEJ5KCRwYXJzZSkge1xyXG4gICAgZnVuY3Rpb24gbmF0dXJhbFNvcnQoYSwgYikge1xyXG4gICAgICB2YXIgcmUgPSAvKF4tP1swLTldKyhcXC4/WzAtOV0qKVtkZl0/ZT9bMC05XT8kfF4weFswLTlhLWZdKyR8WzAtOV0rKS9naSxcclxuICAgICAgICBzcmUgPSAvKF5bIF0qfFsgXSokKS9nLFxyXG4gICAgICAgIGRyZSA9IC8oXihbXFx3IF0rLD9bXFx3IF0rKT9bXFx3IF0rLD9bXFx3IF0rXFxkKzpcXGQrKDpcXGQrKT9bXFx3IF0/fF5cXGR7MSw0fVtcXC9cXC1dXFxkezEsNH1bXFwvXFwtXVxcZHsxLDR9fF5cXHcrLCBcXHcrIFxcZCssIFxcZHs0fSkvLFxyXG4gICAgICAgIGhyZSA9IC9eMHhbMC05YS1mXSskL2ksXHJcbiAgICAgICAgb3JlID0gL14wLyxcclxuICAgICAgICBpID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgIHJldHVybiBuYXR1cmFsU29ydC5pbnNlbnNpdGl2ZSAmJiAoJycgKyBzKS50b0xvd2VyQ2FzZSgpIHx8ICcnICsgc1xyXG4gICAgICAgIH0sXHJcbiAgICAgIC8vIGNvbnZlcnQgYWxsIHRvIHN0cmluZ3Mgc3RyaXAgd2hpdGVzcGFjZVxyXG4gICAgICAgIHggPSBpKGEpLnJlcGxhY2Uoc3JlLCAnJykgfHwgJycsXHJcbiAgICAgICAgeSA9IGkoYikucmVwbGFjZShzcmUsICcnKSB8fCAnJyxcclxuICAgICAgLy8gY2h1bmsvdG9rZW5pemVcclxuICAgICAgICB4TiA9IHgucmVwbGFjZShyZSwgJ1xcMCQxXFwwJykucmVwbGFjZSgvXFwwJC8sICcnKS5yZXBsYWNlKC9eXFwwLywgJycpLnNwbGl0KCdcXDAnKSxcclxuICAgICAgICB5TiA9IHkucmVwbGFjZShyZSwgJ1xcMCQxXFwwJykucmVwbGFjZSgvXFwwJC8sICcnKS5yZXBsYWNlKC9eXFwwLywgJycpLnNwbGl0KCdcXDAnKSxcclxuICAgICAgLy8gbnVtZXJpYywgaGV4IG9yIGRhdGUgZGV0ZWN0aW9uXHJcbiAgICAgICAgeEQgPSBwYXJzZUludCh4Lm1hdGNoKGhyZSkpIHx8ICh4Ti5sZW5ndGggIT0gMSAmJiB4Lm1hdGNoKGRyZSkgJiYgRGF0ZS5wYXJzZSh4KSksXHJcbiAgICAgICAgeUQgPSBwYXJzZUludCh5Lm1hdGNoKGhyZSkpIHx8IHhEICYmIHkubWF0Y2goZHJlKSAmJiBEYXRlLnBhcnNlKHkpIHx8IG51bGwsXHJcbiAgICAgICAgb0Z4TmNMLCBvRnlOY0w7XHJcbiAgICAgIC8vIGZpcnN0IHRyeSBhbmQgc29ydCBIZXggY29kZXMgb3IgRGF0ZXNcclxuICAgICAgaWYgKHlEKVxyXG4gICAgICAgIGlmICh4RCA8IHlEKSByZXR1cm4gLTE7XHJcbiAgICAgICAgZWxzZSBpZiAoeEQgPiB5RCkgcmV0dXJuIDE7XHJcbiAgICAgIC8vIG5hdHVyYWwgc29ydGluZyB0aHJvdWdoIHNwbGl0IG51bWVyaWMgc3RyaW5ncyBhbmQgZGVmYXVsdCBzdHJpbmdzXHJcbiAgICAgIGZvciAodmFyIGNMb2MgPSAwLCBudW1TID0gTWF0aC5tYXgoeE4ubGVuZ3RoLCB5Ti5sZW5ndGgpOyBjTG9jIDwgbnVtUzsgY0xvYysrKSB7XHJcbiAgICAgICAgLy8gZmluZCBmbG9hdHMgbm90IHN0YXJ0aW5nIHdpdGggJzAnLCBzdHJpbmcgb3IgMCBpZiBub3QgZGVmaW5lZCAoQ2xpbnQgUHJpZXN0KVxyXG4gICAgICAgIG9GeE5jTCA9ICEoeE5bY0xvY10gfHwgJycpLm1hdGNoKG9yZSkgJiYgcGFyc2VGbG9hdCh4TltjTG9jXSkgfHwgeE5bY0xvY10gfHwgMDtcclxuICAgICAgICBvRnlOY0wgPSAhKHlOW2NMb2NdIHx8ICcnKS5tYXRjaChvcmUpICYmIHBhcnNlRmxvYXQoeU5bY0xvY10pIHx8IHlOW2NMb2NdIHx8IDA7XHJcbiAgICAgICAgLy8gaGFuZGxlIG51bWVyaWMgdnMgc3RyaW5nIGNvbXBhcmlzb24gLSBudW1iZXIgPCBzdHJpbmcgLSAoS3lsZSBBZGFtcylcclxuICAgICAgICBpZiAoaXNOYU4ob0Z4TmNMKSAhPT0gaXNOYU4ob0Z5TmNMKSkge1xyXG4gICAgICAgICAgcmV0dXJuIChpc05hTihvRnhOY0wpKSA/IDEgOiAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVseSBvbiBzdHJpbmcgY29tcGFyaXNvbiBpZiBkaWZmZXJlbnQgdHlwZXMgLSBpLmUuICcwMicgPCAyICE9ICcwMicgPCAnMidcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb0Z4TmNMICE9PSB0eXBlb2Ygb0Z5TmNMKSB7XHJcbiAgICAgICAgICBvRnhOY0wgKz0gJyc7XHJcbiAgICAgICAgICBvRnlOY0wgKz0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvRnhOY0wgPCBvRnlOY0wpIHJldHVybiAtMTtcclxuICAgICAgICBpZiAob0Z4TmNMID4gb0Z5TmNMKSByZXR1cm4gMTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFycmF5LCBzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpIHtcclxuICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoYXJyYXkpKSByZXR1cm4gYXJyYXk7XHJcbiAgICAgIGlmICghc29ydFByZWRpY2F0ZSkgcmV0dXJuIGFycmF5O1xyXG4gICAgICBzb3J0UHJlZGljYXRlID0gYW5ndWxhci5pc0FycmF5KHNvcnRQcmVkaWNhdGUpID8gc29ydFByZWRpY2F0ZSA6IFtzb3J0UHJlZGljYXRlXTtcclxuICAgICAgc29ydFByZWRpY2F0ZSA9IF8ubWFwKHNvcnRQcmVkaWNhdGUsIGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcclxuICAgICAgICB2YXIgZGVzY2VuZGluZyA9IGZhbHNlLFxyXG4gICAgICAgICAgZ2V0ID0gcHJlZGljYXRlIHx8IGFuZ3VsYXIuaWRlbnRpdHk7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcocHJlZGljYXRlKSkge1xyXG4gICAgICAgICAgaWYgKChwcmVkaWNhdGUuY2hhckF0KDApID09ICcrJyB8fCBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJykpIHtcclxuICAgICAgICAgICAgZGVzY2VuZGluZyA9IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT0gJy0nO1xyXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XHJcbiAgICAgICAgICBpZiAoZ2V0LmNvbnN0YW50KSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBnZXQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5hdHVyYWxTb3J0KGFba2V5XSwgYltrZXldKTtcclxuICAgICAgICAgICAgfSwgZGVzY2VuZGluZyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXZlcnNlQ29tcGFyYXRvcihmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgcmV0dXJuIG5hdHVyYWxTb3J0KGdldChhKSwgZ2V0KGIpKTtcclxuICAgICAgICB9LCBkZXNjZW5kaW5nKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2YXIgYXJyYXlDb3B5ID0gW107XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBhcnJheUNvcHkucHVzaChhcnJheVtpXSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFycmF5Q29weS5zb3J0KHJldmVyc2VDb21wYXJhdG9yKGNvbXBhcmF0b3IsIHJldmVyc2VPcmRlcikpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gY29tcGFyYXRvcihvMSwgbzIpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRQcmVkaWNhdGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBjb21wID0gc29ydFByZWRpY2F0ZVtpXShvMSwgbzIpO1xyXG4gICAgICAgICAgaWYgKGNvbXAgIT09IDApIHJldHVybiBjb21wO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcmV2ZXJzZUNvbXBhcmF0b3IoY29tcCwgZGVzY2VuZGluZykge1xyXG4gICAgICAgIHJldHVybiBkZXNjZW5kaW5nXHJcbiAgICAgICAgICA/IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICByZXR1cm4gY29tcChiLCBhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgICA6IGNvbXA7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCJhbmd1bGFyLm1vZHVsZShcImJzZ3JpZFwiKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9ic2dyaWQuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwicm93IGJzLWdyaWQtbWFyZ2luXFxcIj48ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+PGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwXFxcIiB1aWItZHJvcGRvd249XFxcIlxcXCIgZHJvcGRvd24tYXBwZW5kLXRvLWJvZHk9XFxcIlxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiB1aWItZHJvcGRvd24tdG9nZ2xlPVxcXCJcXFwiPk9wdGlvbnMgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+PC9idXR0b24+PHVsIGNsYXNzPVxcXCJ1aWItZHJvcGRvd24tbWVudVxcXCIgcm9sZT1cXFwibWVudVxcXCI+PGxpIHJvbGU9XFxcIm1lbnVpdGVtXFxcIiBuZy1pZj1cXFwib3B0aW9ucy5wYWdlU2l6ZVNob3dcXFwiIGNsYXNzPVxcXCJkcm9wZG93bi1oZWFkZXJcXFwiPlBhZ2UgU2l6ZTwvbGk+PGxpIHJvbGU9XFxcIm1lbnVpdGVtXFxcIiBuZy1pZj1cXFwib3B0aW9ucy5wYWdlU2l6ZVNob3dcXFwiIG5nLXJlcGVhdD1cXFwic2l6ZSBpbiBvcHRpb25zLnBhZ2VTaXplT3B0aW9uc1xcXCIgbmctY2xhc3M9XFxcIntcXCdhY3RpdmVcXCc6IG9wdGlvbnMucGFnZVNpemUgPT09IHNpemUgfVxcXCI+PGEgdGFiaW5kZXg9XFxcIi0xXFxcIiBuZy1jbGljaz1cXFwib3B0aW9ucy5wYWdlU2l6ZSA9IHNpemVcXFwiPnt7IHNpemUgfX08L2E+PC9saT48bGkgbmctaWY9XFxcIm9wdGlvbnMucGFnZVNpemVTaG93XFxcIiBjbGFzcz1cXFwiZGl2aWRlclxcXCI+PC9saT48bGkgcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIiBjbGFzcz1cXFwiZHJvcGRvd24taGVhZGVyXFxcIj5Db2x1bW5zPC9saT48bGkgcm9sZT1cXFwibWVudWl0ZW1cXFwiIG5nLXJlcGVhdD1cXFwiY29sIGluIG9wdGlvbnMuY29sdW1uc1xcXCI+PGEgbmctY2xpY2s9XFxcImhpZGVDb2x1bW4oY29sKVxcXCI+PGkgbmctY2xhc3M9XFxcImNvbC52aXNpYmxlID8gXFwnZ2x5cGhpY29uIGdseXBoaWNvbi1va1xcJzogXFwnZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcXCdcXFwiPjwvaT4gPHNwYW4+e3sgY29sLm5hbWUgfX08L3NwYW4+PC9hPjwvbGk+PC91bD48L2Rpdj48ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiIG5nLWlmPVxcXCJvcHRpb25zLnNob3dFeHBvcnRCdXR0b25cXFwiIHVpYi1kcm9wZG93bj1cXFwiXFxcIiBkcm9wZG93bi1hcHBlbmQtdG8tYm9keT1cXFwiXFxcIj48YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIHVpYi1kcm9wZG93bi10b2dnbGU9XFxcIlxcXCI+RXhwb3J0IDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPjwvYnV0dG9uPjx1bCBjbGFzcz1cXFwidWliLWRyb3Bkb3duLW1lbnVcXFwiIHJvbGU9XFxcIm1lbnVcXFwiPjxsaSByb2xlPVxcXCJtZW51aXRlbVxcXCI+PGEgbmctY2xpY2s9XFxcImV4cG9ydChleHBvcnRUeXBlcy5GSUxURVJFRClcXFwiPkZpbHRlcmVkPC9hPjwvbGk+PGxpIHJvbGU9XFxcIm1lbnVpdGVtXFxcIj48YSBuZy1jbGljaz1cXFwiZXhwb3J0KGV4cG9ydFR5cGVzLkFMTClcXFwiPkFsbDwvYT48L2xpPjxsaSByb2xlPVxcXCJtZW51aXRlbVxcXCIgbmctaWY9XFxcIm9wdGlvbnMuc2VsZWN0ZWRJdGVtc1swXVxcXCI+PGEgbmctY2xpY2s9XFxcImV4cG9ydChleHBvcnRUeXBlcy5TRUxFQ1RFRClcXFwiPlNlbGVjdGVkPC9hPjwvbGk+PC91bD48L2Rpdj48L2Rpdj48ZGl2IG5nLWlmPVxcXCJvcHRpb25zLnNob3dTZWFyY2hcXFwiIGNsYXNzPVxcXCJjb2wtc20tM1xcXCIgc3R5bGU9XFxcIm1hcmdpbi1ib3R0b206IDEwcHhcXFwiIG5nLWNsYXNzPVxcXCJ7IFxcJ2NvbC1zbS1vZmZzZXQtOVxcJzogIW9wdGlvbnMucGFnZVNpemVTaG93IH1cXFwiPjxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwIGlucHV0LWdyb3VwLXNtXFxcIj48aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcIlNlYXJjaFxcXCIgbmctbW9kZWw9XFxcIm9wdGlvbnMuc2VhcmNoRmlsdGVyXFxcIiBuZy1jaGFuZ2U9XFxcImZpbHRlcigpXFxcIiBuZy1tb2RlbC1vcHRpb25zPVxcXCJ7IGRlYm91bmNlOiB7IFxcJ2RlZmF1bHRcXCc6IDQwMCwgXFwnYmx1clxcJzogMCB9IH1cXFwiIGJzZ3JpZC1hdXRvLWZvY3VzPVxcXCJcXFwiPiA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLXNlYXJjaFxcXCI+PC9pPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPjxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCIgbmctY2xhc3M9XFxcIntcXCd0YWJsZS1yZXNwb25zaXZlXFwnOiBvcHRpb25zLnNjcm9sbEhvcml6b250YWx9XFxcIj48dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtYm9yZGVyZWQgdGFibGUtaG92ZXIgdGFibGUtY29uZGVuc2VkIGNvbG9yMlxcXCI+PHRoZWFkPjx0cj48dGggbmctaWY9XFxcIm9wdGlvbnMubXVsdGlTZWxlY3RcXFwiIGNsYXNzPVxcXCJicy1ncmlkLXNlbGVjdFxcXCI+PGlucHV0IG5nLWlmPVxcXCJvcHRpb25zLm11bHRpU2VsZWN0XFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmctbW9kZWw9XFxcInNlbGVjdEFsbFRvZ2dsZVxcXCIgbmctY2hhbmdlPVxcXCJ0b2dnbGVTZWxlY3RBbGwoc2VsZWN0QWxsVG9nZ2xlKVxcXCI+PC90aD48dGggY2xhc3M9XFxcImJzLWdyaWQtb3ZlcmZsb3dcXFwiIG5nLXJlcGVhdD1cXFwiY29sIGluIG9wdGlvbnMuY29sdW1uc1xcXCIgbmctY2xpY2s9XFxcInNvcnQoY29sLCB0cnVlKVxcXCIgc3R5bGU9XFxcIndpZHRoOiB7eyBjb2wud2lkdGggfX07XFxcIiBuZy1zaG93PVxcXCJjb2wudmlzaWJsZVxcXCI+PGRpdiBuZy1kcm9wPVxcXCJ0cnVlXFxcIiBuZy1kcm9wLXN1Y2Nlc3M9XFxcIm9uRHJvcENvbXBsZXRlKCRpbmRleCwgJGRhdGEsICRldnQpXFxcIj48ZGl2IG5nLWRyYWc9XFxcInRydWVcXFwiIG5nLWRyYWctZGF0YT1cXFwiY29sXFxcIj48c3Bhbj57eyBjb2wubmFtZSB8fCBjb2wuZmllbGQgfX08L3NwYW4+IDxzcGFuIG5nLWlmPVxcXCJjb2wuc29ydGVkXFxcIiBjbGFzcz1cXFwib3JkZXJcXFwiIG5nLWNsYXNzPVxcXCJ7XFwnZHJvcHVwXFwnOiBjb2wucmV2ZXJzZSB9XFxcIj48c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pjx0ciBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gZGlzcGxheWVkSXRlbXNcXFwiIG5nLWNsYXNzPVxcXCJ7XFwnaW5mb1xcJyA6IGlzU2VsZWN0ZWRJdGVtKCBpdGVtICkgfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdEl0ZW0oaXRlbSlcXFwiPjx0ZCBuZy1pZj1cXFwib3B0aW9ucy5tdWx0aVNlbGVjdFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiYmctZ3JpZC1jaGVja2JveFxcXCIgbmctY2hlY2tlZD1cXFwiaXNTZWxlY3RlZEl0ZW0oaXRlbSlcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3RJdGVtQ2hlY2tib3goJGV2ZW50LCBpdGVtKVxcXCI+PC90ZD48dGQgY2xhc3M9XFxcImJzLWdyaWQtb3ZlcmZsb3dcXFwiIG5nLXJlcGVhdD1cXFwiY29sIGluIG9wdGlvbnMuY29sdW1uc1xcXCIgbmctc2hvdz1cXFwiY29sLnZpc2libGVcXFwiPjxkaXYgbmctaWY9XFxcImNvbC50ZW1wbGF0ZVxcXCIgYnMtZ3JpZC1jZWxsLXRlbXBsYXRlPVxcXCJ7eyBjb2wudGVtcGxhdGUgfX1cXFwiPjwvZGl2PjxkaXYgbmctaWY9XFxcIiFjb2wudGVtcGxhdGVcXFwiIGNsYXNzPVxcXCJicy1ncmlkLWNvbHVtbiBicy1ncmlkLWNvbHVtbi17e2NvbC5maWVsZH19XFxcIj57eyBpdGVtW2NvbC5maWVsZF0gfX08L2Rpdj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcInJvd1xcXCIgbmctaWY9XFxcIm9wdGlvbnMuc2hvd0Zvb3RlclxcXCI+PGRpdiBjbGFzcz1cXFwiY29sLXNtLTRcXFwiPjxzcGFuIG5nLWlmPVxcXCJvcHRpb25zLnNlbGVjdGFibGUgJiYgb3B0aW9ucy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCAhPSAwXFxcIj5TZWxlY3RlZCA8c3Ryb25nIGNsYXNzPVxcJ1xcXFxcXFwidGV4dC1wcmltYXJ5XFxcXFxcXCJcXCc+e3tvcHRpb25zLnNlbGVjdGVkSXRlbXMubGVuZ3RofX08L3N0cm9uZz48L3NwYW4+IDxzcGFuIG5nLWNsYXNzPVxcXCJ7IFxcJ3RleHQtZGFuZ2VyXFwnOiBkaXNwbGF5ZWRJdGVtcy5sZW5ndGggPT0gMH1cXFwiPlNob3dpbmcgPHN0cm9uZz57e3Nob3dpbmcuYmVnaW59fTwvc3Ryb25nPiB0byA8c3Ryb25nPnt7c2hvd2luZy5lbmR9fTwvc3Ryb25nPiBvZiA8c3Ryb25nIGNsYXNzPVxcJ1xcXFxcXFwidGV4dC1wcmltYXJ5XFxcXFxcXCJcXCc+e3sgc2hvd2luZy5vZn19PC9zdHJvbmc+IGl0ZW1zPC9zcGFuPjxwIG5nLWlmPVxcXCJvcHRpb25zLnNlYXJjaEZpbHRlclxcXCI+KDxlbT5GaWx0ZXJlZCBkb3duIGZyb20gPHN0cm9uZz57e29wdGlvbnMuaXRlbXMubGVuZ3RofX08L3N0cm9uZz48L2VtPik8L3A+PC9kaXY+PGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPjx1aWItcGFnaW5hdGlvbiBjbGFzcz1cXFwicGFnaW5hdGlvbi1zbSBwdWxsLXJpZ2h0IGJzLWdyaWQtcGFnaW5hdGlvblxcXCIgYm91bmRhcnktbGlua3M9XFxcInRydWVcXFwiIG1heC1zaXplPVxcXCI5XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwib3B0aW9ucy5wYWdlU2l6ZVxcXCIgdG90YWwtaXRlbXM9XFxcImZpbHRlcmVkSXRlbXMubGVuZ3RoXFxcIiBuZy1tb2RlbD1cXFwib3B0aW9ucy5jdXJyZW50UGFnZVxcXCIgbmctY2hhbmdlPVxcXCJnZXRQYWdlKClcXFwiIHByZXZpb3VzLXRleHQ9XFxcIlByZXZpb3VzXFxcIiBuZXh0LXRleHQ9XFxcIk5leHRcXFwiIGZpcnN0LXRleHQ9XFxcIkZpcnN0XFxcIiBsYXN0LXRleHQ9XFxcIkxhc3RcXFwiPjwvdWliLXBhZ2luYXRpb24+PC9kaXY+PC9kaXY+XCIpO31dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
